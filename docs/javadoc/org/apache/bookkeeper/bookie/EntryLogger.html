<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_131) on Thu Jun 29 14:27:43 PDT 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>EntryLogger (bookkeeper 4.5.0-SNAPSHOT API)</title>
<meta name="date" content="2017-06-29">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EntryLogger (bookkeeper 4.5.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":9,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EntryLogger.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/bookkeeper/bookie/EntryLocation.html" title="class in org.apache.bookkeeper.bookie"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.EntryLoggerAllocator.html" title="class in org.apache.bookkeeper.bookie"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/bookkeeper/bookie/EntryLogger.html" target="_top">Frames</a></li>
<li><a href="EntryLogger.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.bookkeeper.bookie</div>
<h2 title="Class EntryLogger" class="title">Class EntryLogger</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.bookkeeper.bookie.EntryLogger</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/apache/bookkeeper/bookie/ReadOnlyEntryLogger.html" title="class in org.apache.bookkeeper.bookie">ReadOnlyEntryLogger</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">EntryLogger</span>
extends <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></pre>
<div class="block">This class manages the writing of the bookkeeper entries. All the new
 entries are written to a common log. The LedgerCache will have pointers
 into files created by this class with offsets into the files to find
 the actual ledger entry. The entry log files created by this class are
 identified by a long.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) class&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.EntryLoggerAllocator.html" title="class in org.apache.bookkeeper.bookie">EntryLogger.EntryLoggerAllocator</a></span></code>
<div class="block">An allocator pre-allocates entry log files.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.EntryLogListener.html" title="interface in org.apache.bookkeeper.bookie">EntryLogger.EntryLogListener</a></span></code>
<div class="block">Entry Log Listener</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static interface&nbsp;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.EntryLogScanner.html" title="interface in org.apache.bookkeeper.bookie">EntryLogger.EntryLogScanner</a></span></code>
<div class="block">Scan entries in a entry log file.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) <a href="../../../../org/apache/bookkeeper/conf/ServerConfiguration.html" title="class in org.apache.bookkeeper.conf">ServerConfiguration</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#conf">conf</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#currentDir">currentDir</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#HEADER_VERSION_POSITION">HEADER_VERSION_POSITION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#INVALID_LID">INVALID_LID</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#LEDGERS_MAP_ENTRY_ID">LEDGERS_MAP_ENTRY_ID</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#LEDGERS_MAP_ENTRY_SIZE">LEDGERS_MAP_ENTRY_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#LEDGERS_MAP_HEADER_SIZE">LEDGERS_MAP_HEADER_SIZE</a></span></code>
<div class="block">Ledgers map is composed of multiple parts that can be split into separated entries.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#LEDGERS_MAP_MAX_BATCH_SIZE">LEDGERS_MAP_MAX_BATCH_SIZE</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#LEDGERS_MAP_OFFSET_POSITION">LEDGERS_MAP_OFFSET_POSITION</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) <a href="http://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#LOGFILE_HEADER">LOGFILE_HEADER</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#LOGFILE_HEADER_SIZE">LOGFILE_HEADER_SIZE</a></span></code>
<div class="block">The 1K block at the head of the entry logger file
 that contains the fingerprint and meta-data.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#logSizeLimit">logSizeLimit</a></span></code>
<div class="block">The maximum size of a entry logger file.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#MB">MB</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#MIN_SANE_ENTRY_SIZE">MIN_SANE_ENTRY_SIZE</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#EntryLogger-org.apache.bookkeeper.conf.ServerConfiguration-org.apache.bookkeeper.bookie.LedgerDirsManager-">EntryLogger</a></span>(<a href="../../../../org/apache/bookkeeper/conf/ServerConfiguration.html" title="class in org.apache.bookkeeper.conf">ServerConfiguration</a>&nbsp;conf,
           <a href="../../../../org/apache/bookkeeper/bookie/LedgerDirsManager.html" title="class in org.apache.bookkeeper.bookie">LedgerDirsManager</a>&nbsp;ledgerDirsManager)</code>
<div class="block">Create an EntryLogger that stores it's log files in the given
 directories</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#EntryLogger-org.apache.bookkeeper.conf.ServerConfiguration-org.apache.bookkeeper.bookie.LedgerDirsManager-org.apache.bookkeeper.bookie.EntryLogger.EntryLogListener-">EntryLogger</a></span>(<a href="../../../../org/apache/bookkeeper/conf/ServerConfiguration.html" title="class in org.apache.bookkeeper.conf">ServerConfiguration</a>&nbsp;conf,
           <a href="../../../../org/apache/bookkeeper/bookie/LedgerDirsManager.html" title="class in org.apache.bookkeeper.bookie">LedgerDirsManager</a>&nbsp;ledgerDirsManager,
           <a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.EntryLogListener.html" title="interface in org.apache.bookkeeper.bookie">EntryLogger.EntryLogListener</a>&nbsp;listener)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#addEntry-long-java.nio.ByteBuffer-">addEntry</a></span>(long&nbsp;ledger,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;entry)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#addEntry-long-java.nio.ByteBuffer-boolean-">addEntry</a></span>(long&nbsp;ledger,
        <a href="http://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;entry,
        boolean&nbsp;rollLog)</code>&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#addListener-org.apache.bookkeeper.bookie.EntryLogger.EntryLogListener-">addListener</a></span>(<a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.EntryLogListener.html" title="interface in org.apache.bookkeeper.bookie">EntryLogger.EntryLogListener</a>&nbsp;listener)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#checkpoint--">checkpoint</a></span>()</code>
<div class="block">Flushes all rotated log channels.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#createNewLog--">createNewLog</a></span>()</code>
<div class="block">Creates a new log file</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>(package private) <a href="../../../../org/apache/bookkeeper/bookie/EntryLogMetadata.html" title="class in org.apache.bookkeeper.bookie">EntryLogMetadata</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#extractEntryLogMetadataFromIndex-long-">extractEntryLogMetadataFromIndex</a></span>(long&nbsp;entryLogId)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#flush--">flush</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#flushCurrentLog--">flushCurrentLog</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#flushRotatedLogs--">flushRotatedLogs</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#getCurrentLogId--">getCurrentLogId</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/bookkeeper/bookie/EntryLogMetadata.html" title="class in org.apache.bookkeeper.bookie">EntryLogMetadata</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#getEntryLogMetadata-long-">getEntryLogMetadata</a></span>(long&nbsp;entryLogId)</code>&nbsp;</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code><a href="../../../../org/apache/bookkeeper/bookie/BufferedReadChannel.html" title="class in org.apache.bookkeeper.bookie">BufferedReadChannel</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#getFromChannels-long-">getFromChannels</a></span>(long&nbsp;logId)</code>&nbsp;</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>(package private) long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#getLeastUnflushedLogId--">getLeastUnflushedLogId</a></span>()</code>
<div class="block">Get the least unflushed log id.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#initialize--">initialize</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#logExists-long-">logExists</a></span>(long&nbsp;logId)</code>
<div class="block">Whether the log file exists or not.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>(package private) static long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#logIdForOffset-long-">logIdForOffset</a></span>(long&nbsp;offset)</code>&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../../../../org/apache/bookkeeper/bookie/BufferedReadChannel.html" title="class in org.apache.bookkeeper.bookie">BufferedReadChannel</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#putInReadChannels-long-org.apache.bookkeeper.bookie.BufferedReadChannel-">putInReadChannels</a></span>(long&nbsp;logId,
                 <a href="../../../../org/apache/bookkeeper/bookie/BufferedReadChannel.html" title="class in org.apache.bookkeeper.bookie">BufferedReadChannel</a>&nbsp;bc)</code>
<div class="block">Put the logId, bc pair in the map responsible for the current thread.</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#reachEntryLogLimit-long-">reachEntryLogLimit</a></span>(long&nbsp;size)</code>&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>(package private) byte[]</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#readEntry-long-long-long-">readEntry</a></span>(long&nbsp;ledgerId,
         long&nbsp;entryId,
         long&nbsp;location)</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>(package private) boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#readEntryLogHardLimit-long-">readEntryLogHardLimit</a></span>(long&nbsp;size)</code>&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>protected boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#removeEntryLog-long-">removeEntryLog</a></span>(long&nbsp;entryLogId)</code>
<div class="block">Remove entry log.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#removeFromChannelsAndClose-long-">removeFromChannelsAndClose</a></span>(long&nbsp;logId)</code>
<div class="block">Remove all entries for this log file in each thread's cache.</div>
</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>(package private) void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#rollLog--">rollLog</a></span>()</code>
<div class="block">Rolling a new log file to write.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#scanEntryLog-long-org.apache.bookkeeper.bookie.EntryLogger.EntryLogScanner-">scanEntryLog</a></span>(long&nbsp;entryLogId,
            <a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.EntryLogScanner.html" title="interface in org.apache.bookkeeper.bookie">EntryLogger.EntryLogScanner</a>&nbsp;scanner)</code>
<div class="block">Scan entry log</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.html#shutdown--">shutdown</a></span>()</code>
<div class="block">Shutdown method to gracefully stop entry logger.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="currentDir">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentDir</h4>
<pre>volatile&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io">File</a> currentDir</pre>
</li>
</ul>
<a name="logSizeLimit">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logSizeLimit</h4>
<pre>final&nbsp;long logSizeLimit</pre>
<div class="block">The maximum size of a entry logger file.</div>
</li>
</ul>
<a name="LOGFILE_HEADER_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOGFILE_HEADER_SIZE</h4>
<pre>static final&nbsp;int LOGFILE_HEADER_SIZE</pre>
<div class="block">The 1K block at the head of the entry logger file
 that contains the fingerprint and meta-data.

 Header is composed of:
 Fingerprint: 4 bytes "BKLO"
 Log file HeaderVersion enum: 4 bytes
 Ledger map offset: 8 bytes
 Ledgers Count: 4 bytes</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.bookkeeper.bookie.EntryLogger.LOGFILE_HEADER_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LOGFILE_HEADER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LOGFILE_HEADER</h4>
<pre>final&nbsp;<a href="http://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a> LOGFILE_HEADER</pre>
</li>
</ul>
<a name="HEADER_VERSION_POSITION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>HEADER_VERSION_POSITION</h4>
<pre>static final&nbsp;int HEADER_VERSION_POSITION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.bookkeeper.bookie.EntryLogger.HEADER_VERSION_POSITION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LEDGERS_MAP_OFFSET_POSITION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LEDGERS_MAP_OFFSET_POSITION</h4>
<pre>static final&nbsp;int LEDGERS_MAP_OFFSET_POSITION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.bookkeeper.bookie.EntryLogger.LEDGERS_MAP_OFFSET_POSITION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LEDGERS_MAP_HEADER_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LEDGERS_MAP_HEADER_SIZE</h4>
<pre>static final&nbsp;int LEDGERS_MAP_HEADER_SIZE</pre>
<div class="block">Ledgers map is composed of multiple parts that can be split into separated entries. Each of them is composed of:

 <pre>
 length: (4 bytes) [0-3]
 ledger id (-1): (8 bytes) [4 - 11]
 entry id: (8 bytes) [12-19]
 num ledgers stored in current metadata entry: (4 bytes) [20 - 23]
 ledger entries: sequence of (ledgerid, size) (8 + 8 bytes each) [24..]
 </pre></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.bookkeeper.bookie.EntryLogger.LEDGERS_MAP_HEADER_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LEDGERS_MAP_ENTRY_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LEDGERS_MAP_ENTRY_SIZE</h4>
<pre>static final&nbsp;int LEDGERS_MAP_ENTRY_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.bookkeeper.bookie.EntryLogger.LEDGERS_MAP_ENTRY_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LEDGERS_MAP_MAX_BATCH_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LEDGERS_MAP_MAX_BATCH_SIZE</h4>
<pre>static final&nbsp;int LEDGERS_MAP_MAX_BATCH_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.bookkeeper.bookie.EntryLogger.LEDGERS_MAP_MAX_BATCH_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="INVALID_LID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>INVALID_LID</h4>
<pre>static final&nbsp;long INVALID_LID</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.bookkeeper.bookie.EntryLogger.INVALID_LID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="LEDGERS_MAP_ENTRY_ID">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>LEDGERS_MAP_ENTRY_ID</h4>
<pre>static final&nbsp;long LEDGERS_MAP_ENTRY_ID</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.bookkeeper.bookie.EntryLogger.LEDGERS_MAP_ENTRY_ID">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MIN_SANE_ENTRY_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MIN_SANE_ENTRY_SIZE</h4>
<pre>static final&nbsp;int MIN_SANE_ENTRY_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.bookkeeper.bookie.EntryLogger.MIN_SANE_ENTRY_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="MB">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>MB</h4>
<pre>static final&nbsp;long MB</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#org.apache.bookkeeper.bookie.EntryLogger.MB">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="conf">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>conf</h4>
<pre>final&nbsp;<a href="../../../../org/apache/bookkeeper/conf/ServerConfiguration.html" title="class in org.apache.bookkeeper.conf">ServerConfiguration</a> conf</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="EntryLogger-org.apache.bookkeeper.conf.ServerConfiguration-org.apache.bookkeeper.bookie.LedgerDirsManager-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EntryLogger</h4>
<pre>public&nbsp;EntryLogger(<a href="../../../../org/apache/bookkeeper/conf/ServerConfiguration.html" title="class in org.apache.bookkeeper.conf">ServerConfiguration</a>&nbsp;conf,
                   <a href="../../../../org/apache/bookkeeper/bookie/LedgerDirsManager.html" title="class in org.apache.bookkeeper.bookie">LedgerDirsManager</a>&nbsp;ledgerDirsManager)
            throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Create an EntryLogger that stores it's log files in the given
 directories</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="EntryLogger-org.apache.bookkeeper.conf.ServerConfiguration-org.apache.bookkeeper.bookie.LedgerDirsManager-org.apache.bookkeeper.bookie.EntryLogger.EntryLogListener-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EntryLogger</h4>
<pre>public&nbsp;EntryLogger(<a href="../../../../org/apache/bookkeeper/conf/ServerConfiguration.html" title="class in org.apache.bookkeeper.conf">ServerConfiguration</a>&nbsp;conf,
                   <a href="../../../../org/apache/bookkeeper/bookie/LedgerDirsManager.html" title="class in org.apache.bookkeeper.bookie">LedgerDirsManager</a>&nbsp;ledgerDirsManager,
                   <a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.EntryLogListener.html" title="interface in org.apache.bookkeeper.bookie">EntryLogger.EntryLogListener</a>&nbsp;listener)
            throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="addListener-org.apache.bookkeeper.bookie.EntryLogger.EntryLogListener-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addListener</h4>
<pre>void&nbsp;addListener(<a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.EntryLogListener.html" title="interface in org.apache.bookkeeper.bookie">EntryLogger.EntryLogListener</a>&nbsp;listener)</pre>
</li>
</ul>
<a name="putInReadChannels-long-org.apache.bookkeeper.bookie.BufferedReadChannel-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>putInReadChannels</h4>
<pre>public&nbsp;<a href="../../../../org/apache/bookkeeper/bookie/BufferedReadChannel.html" title="class in org.apache.bookkeeper.bookie">BufferedReadChannel</a>&nbsp;putInReadChannels(long&nbsp;logId,
                                             <a href="../../../../org/apache/bookkeeper/bookie/BufferedReadChannel.html" title="class in org.apache.bookkeeper.bookie">BufferedReadChannel</a>&nbsp;bc)</pre>
<div class="block">Put the logId, bc pair in the map responsible for the current thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>logId</code> - </dd>
<dd><code>bc</code> - </dd>
</dl>
</li>
</ul>
<a name="removeFromChannelsAndClose-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeFromChannelsAndClose</h4>
<pre>public&nbsp;void&nbsp;removeFromChannelsAndClose(long&nbsp;logId)</pre>
<div class="block">Remove all entries for this log file in each thread's cache.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>logId</code> - </dd>
</dl>
</li>
</ul>
<a name="getFromChannels-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFromChannels</h4>
<pre>public&nbsp;<a href="../../../../org/apache/bookkeeper/bookie/BufferedReadChannel.html" title="class in org.apache.bookkeeper.bookie">BufferedReadChannel</a>&nbsp;getFromChannels(long&nbsp;logId)</pre>
</li>
</ul>
<a name="getLeastUnflushedLogId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLeastUnflushedLogId</h4>
<pre>long&nbsp;getLeastUnflushedLogId()</pre>
<div class="block">Get the least unflushed log id. Garbage collector thread should not process
 unflushed entry log file.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>least unflushed log id.</dd>
</dl>
</li>
</ul>
<a name="getCurrentLogId--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentLogId</h4>
<pre>long&nbsp;getCurrentLogId()</pre>
</li>
</ul>
<a name="initialize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initialize</h4>
<pre>protected&nbsp;void&nbsp;initialize()
                   throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="rollLog--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollLog</h4>
<pre>void&nbsp;rollLog()
      throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Rolling a new log file to write.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="createNewLog--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createNewLog</h4>
<pre>void&nbsp;createNewLog()
           throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Creates a new log file</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="removeEntryLog-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeEntryLog</h4>
<pre>protected&nbsp;boolean&nbsp;removeEntryLog(long&nbsp;entryLogId)</pre>
<div class="block">Remove entry log.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entryLogId</code> - Entry Log File Id</dd>
</dl>
</li>
</ul>
<a name="checkpoint--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkpoint</h4>
<pre>void&nbsp;checkpoint()
         throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Flushes all rotated log channels. After log channels are flushed,
 move leastUnflushedLogId ptr to current logId.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="flushRotatedLogs--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushRotatedLogs</h4>
<pre>void&nbsp;flushRotatedLogs()
               throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="flush--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flush</h4>
<pre>void&nbsp;flush()
    throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="flushCurrentLog--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flushCurrentLog</h4>
<pre>void&nbsp;flushCurrentLog()
              throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="addEntry-long-java.nio.ByteBuffer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addEntry</h4>
<pre>long&nbsp;addEntry(long&nbsp;ledger,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;entry)
       throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="addEntry-long-java.nio.ByteBuffer-boolean-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addEntry</h4>
<pre>long&nbsp;addEntry(long&nbsp;ledger,
              <a href="http://docs.oracle.com/javase/8/docs/api/java/nio/ByteBuffer.html?is-external=true" title="class or interface in java.nio">ByteBuffer</a>&nbsp;entry,
              boolean&nbsp;rollLog)
       throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="logIdForOffset-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logIdForOffset</h4>
<pre>static&nbsp;long&nbsp;logIdForOffset(long&nbsp;offset)</pre>
</li>
</ul>
<a name="reachEntryLogLimit-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reachEntryLogLimit</h4>
<pre>boolean&nbsp;reachEntryLogLimit(long&nbsp;size)</pre>
</li>
</ul>
<a name="readEntryLogHardLimit-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readEntryLogHardLimit</h4>
<pre>boolean&nbsp;readEntryLogHardLimit(long&nbsp;size)</pre>
</li>
</ul>
<a name="readEntry-long-long-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readEntry</h4>
<pre>byte[]&nbsp;readEntry(long&nbsp;ledgerId,
                 long&nbsp;entryId,
                 long&nbsp;location)
          throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a>,
                 <a href="../../../../org/apache/bookkeeper/bookie/Bookie.NoEntryException.html" title="class in org.apache.bookkeeper.bookie">Bookie.NoEntryException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
<dd><code><a href="../../../../org/apache/bookkeeper/bookie/Bookie.NoEntryException.html" title="class in org.apache.bookkeeper.bookie">Bookie.NoEntryException</a></code></dd>
</dl>
</li>
</ul>
<a name="logExists-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logExists</h4>
<pre>boolean&nbsp;logExists(long&nbsp;logId)</pre>
<div class="block">Whether the log file exists or not.</div>
</li>
</ul>
<a name="scanEntryLog-long-org.apache.bookkeeper.bookie.EntryLogger.EntryLogScanner-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>scanEntryLog</h4>
<pre>protected&nbsp;void&nbsp;scanEntryLog(long&nbsp;entryLogId,
                            <a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.EntryLogScanner.html" title="interface in org.apache.bookkeeper.bookie">EntryLogger.EntryLogScanner</a>&nbsp;scanner)
                     throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<div class="block">Scan entry log</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entryLogId</code> - Entry Log Id</dd>
<dd><code>scanner</code> - Entry Log Scanner</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="getEntryLogMetadata-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEntryLogMetadata</h4>
<pre>public&nbsp;<a href="../../../../org/apache/bookkeeper/bookie/EntryLogMetadata.html" title="class in org.apache.bookkeeper.bookie">EntryLogMetadata</a>&nbsp;getEntryLogMetadata(long&nbsp;entryLogId)
                                     throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="extractEntryLogMetadataFromIndex-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>extractEntryLogMetadataFromIndex</h4>
<pre><a href="../../../../org/apache/bookkeeper/bookie/EntryLogMetadata.html" title="class in org.apache.bookkeeper.bookie">EntryLogMetadata</a>&nbsp;extractEntryLogMetadataFromIndex(long&nbsp;entryLogId)
                                           throws <a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="http://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</a></code></dd>
</dl>
</li>
</ul>
<a name="shutdown--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>shutdown</h4>
<pre>public&nbsp;void&nbsp;shutdown()</pre>
<div class="block">Shutdown method to gracefully stop entry logger.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/EntryLogger.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/apache/bookkeeper/bookie/EntryLocation.html" title="class in org.apache.bookkeeper.bookie"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../org/apache/bookkeeper/bookie/EntryLogger.EntryLoggerAllocator.html" title="class in org.apache.bookkeeper.bookie"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/bookkeeper/bookie/EntryLogger.html" target="_top">Frames</a></li>
<li><a href="EntryLogger.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2011&#x2013;2017 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</body>
</html>
