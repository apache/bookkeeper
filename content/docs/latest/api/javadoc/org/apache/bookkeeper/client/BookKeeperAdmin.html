<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc -->
<title>BookKeeperAdmin (Apache BookKeeper :: Parent 4.18.0-SNAPSHOT API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="BookKeeperAdmin (Apache BookKeeper :: Parent 4.18.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":9,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":9,"i13":9,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":10,"i22":10,"i23":10,"i24":9,"i25":9,"i26":10,"i27":10,"i28":9,"i29":9,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BookKeeperAdmin.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.bookkeeper.client</a></div>
<h2 title="Class BookKeeperAdmin" class="title">Class BookKeeperAdmin</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.bookkeeper.client.BookKeeperAdmin</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.lang.AutoCloseable</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">BookKeeperAdmin</span>
extends java.lang.Object
implements java.lang.AutoCloseable</pre>
<div class="block">Admin client for BookKeeper clusters.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>(package private) class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="BookKeeperAdmin.LedgerEntriesIterable.html" title="class in org.apache.bookkeeper.client">BookKeeperAdmin.LedgerEntriesIterable</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="BookKeeperAdmin.LedgerEntriesIterator.html" title="class in org.apache.bookkeeper.client">BookKeeperAdmin.LedgerEntriesIterator</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="BookKeeperAdmin.ResultCallBack.html" title="class in org.apache.bookkeeper.client">BookKeeperAdmin.ResultCallBack</a></span></code></th>
<td class="colLast">
<div class="block">This is the class for getting the replication result.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>(package private) static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="BookKeeperAdmin.SyncObject.html" title="class in org.apache.bookkeeper.client">BookKeeperAdmin.SyncObject</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String)">BookKeeperAdmin</a></span>&#8203;(java.lang.String&nbsp;zkServers)</code></th>
<td class="colLast">
<div class="block">Constructor that takes in a ZooKeeper servers connect string so we know
 how to connect to ZooKeeper to retrieve information about the BookKeeper
 cluster.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.bookkeeper.client.BookKeeper)">BookKeeperAdmin</a></span>&#8203;(<a href="BookKeeper.html" title="class in org.apache.bookkeeper.client">BookKeeper</a>&nbsp;bkc)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.bookkeeper.client.BookKeeper,org.apache.bookkeeper.conf.ClientConfiguration)">BookKeeperAdmin</a></span>&#8203;(<a href="BookKeeper.html" title="class in org.apache.bookkeeper.client">BookKeeper</a>&nbsp;bkc,
               <a href="../conf/ClientConfiguration.html" title="class in org.apache.bookkeeper.conf">ClientConfiguration</a>&nbsp;conf)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.bookkeeper.client.BookKeeper,org.apache.bookkeeper.stats.StatsLogger,org.apache.bookkeeper.conf.ClientConfiguration)">BookKeeperAdmin</a></span>&#8203;(<a href="BookKeeper.html" title="class in org.apache.bookkeeper.client">BookKeeper</a>&nbsp;bkc,
               <a href="../stats/StatsLogger.html" title="interface in org.apache.bookkeeper.stats">StatsLogger</a>&nbsp;statsLogger,
               <a href="../conf/ClientConfiguration.html" title="class in org.apache.bookkeeper.conf">ClientConfiguration</a>&nbsp;conf)</code></th>
<td class="colLast">
<div class="block">Constructor that takes in a BookKeeper instance .</div>
</td>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.bookkeeper.conf.ClientConfiguration)">BookKeeperAdmin</a></span>&#8203;(<a href="../conf/ClientConfiguration.html" title="class in org.apache.bookkeeper.conf">ClientConfiguration</a>&nbsp;conf)</code></th>
<td class="colLast">
<div class="block">Constructor that takes in a configuration object so we know
 how to connect to ZooKeeper to retrieve information about the BookKeeper
 cluster.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#areEntriesOfLedgerStoredInTheBookie(long,org.apache.bookkeeper.net.BookieId,org.apache.bookkeeper.client.api.LedgerMetadata)">areEntriesOfLedgerStoredInTheBookie</a></span>&#8203;(long&nbsp;ledgerId,
                                   <a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&nbsp;bookieAddress,
                                   <a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&nbsp;ledgerMetadata)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#areEntriesOfLedgerStoredInTheBookie(long,org.apache.bookkeeper.net.BookieId,org.apache.bookkeeper.meta.LedgerManager)">areEntriesOfLedgerStoredInTheBookie</a></span>&#8203;(long&nbsp;ledgerId,
                                   <a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&nbsp;bookieAddress,
                                   <a href="../meta/LedgerManager.html" title="interface in org.apache.bookkeeper.meta">LedgerManager</a>&nbsp;ledgerManager)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncGetLedgersContainBookies(java.util.Set,org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.GenericCallback)">asyncGetLedgersContainBookies</a></span>&#8203;(java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookies,
                             <a href="../proto/BookkeeperInternalCallbacks.GenericCallback.html" title="interface in org.apache.bookkeeper.proto">BookkeeperInternalCallbacks.GenericCallback</a>&lt;java.util.SortedMap&lt;java.lang.Long,&#8203;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;&gt;&nbsp;callback)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.concurrent.CompletableFuture&lt;<a href="../util/AvailabilityOfEntriesOfLedger.html" title="class in org.apache.bookkeeper.util">AvailabilityOfEntriesOfLedger</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncGetListOfEntriesOfLedger(org.apache.bookkeeper.net.BookieId,long)">asyncGetListOfEntriesOfLedger</a></span>&#8203;(<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&nbsp;address,
                             long&nbsp;ledgerId)</code></th>
<td class="colLast">
<div class="block">Makes async request for getting list of entries of ledger from a bookie
 and returns Future for the result.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncOpenLedger(long,org.apache.bookkeeper.client.AsyncCallback.OpenCallback,java.lang.Object)">asyncOpenLedger</a></span>&#8203;(long&nbsp;lId,
               <a href="AsyncCallback.OpenCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.OpenCallback</a>&nbsp;cb,
               java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Open a ledger as an administrator.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncOpenLedgerNoRecovery(long,org.apache.bookkeeper.client.AsyncCallback.OpenCallback,java.lang.Object)">asyncOpenLedgerNoRecovery</a></span>&#8203;(long&nbsp;lId,
                         <a href="AsyncCallback.OpenCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.OpenCallback</a>&nbsp;cb,
                         java.lang.Object&nbsp;ctx)</code></th>
<td class="colLast">
<div class="block">Open a ledger as an administrator without recovering the ledger.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncRecoverBookieData(long,java.util.Set,boolean,boolean,org.apache.bookkeeper.client.AsyncCallback.RecoverCallback,java.lang.Object)">asyncRecoverBookieData</a></span>&#8203;(long&nbsp;lid,
                      java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookieSrc,
                      boolean&nbsp;dryrun,
                      boolean&nbsp;skipOpenLedgers,
                      <a href="AsyncCallback.RecoverCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.RecoverCallback</a>&nbsp;callback,
                      java.lang.Object&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Recover a specific ledger.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncRecoverBookieData(java.util.Set,boolean,boolean,boolean,org.apache.bookkeeper.client.AsyncCallback.RecoverCallback,java.lang.Object)">asyncRecoverBookieData</a></span>&#8203;(java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookieSrc,
                      boolean&nbsp;dryrun,
                      boolean&nbsp;skipOpenLedgers,
                      boolean&nbsp;skipUnrecoverableLedgers,
                      <a href="AsyncCallback.RecoverCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.RecoverCallback</a>&nbsp;cb,
                      java.lang.Object&nbsp;context)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncRecoverBookieData(java.util.Set,org.apache.bookkeeper.client.AsyncCallback.RecoverCallback,java.lang.Object)">asyncRecoverBookieData</a></span>&#8203;(java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookieSrc,
                      <a href="AsyncCallback.RecoverCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.RecoverCallback</a>&nbsp;cb,
                      java.lang.Object&nbsp;context)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#asyncRecoverBookieData(org.apache.bookkeeper.net.BookieId,org.apache.bookkeeper.client.AsyncCallback.RecoverCallback,java.lang.Object)">asyncRecoverBookieData</a></span>&#8203;(<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&nbsp;bookieSrc,
                      <a href="AsyncCallback.RecoverCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.RecoverCallback</a>&nbsp;cb,
                      java.lang.Object&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Async method to rebuild and recover the ledger fragments data that was
 stored on the source bookie.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">
<div class="block">Gracefully release resources that this client uses.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#decommissionBookie(org.apache.bookkeeper.net.BookieId)">decommissionBookie</a></span>&#8203;(<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&nbsp;bookieAddress)</code></th>
<td class="colLast">
<div class="block">Triggers AuditTask by resetting lostBookieRecoveryDelay and then make
 sure the ledgers stored in the given decommissioning bookie are properly
 replicated and they are not underreplicated because of the given bookie.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#format(org.apache.bookkeeper.conf.ServerConfiguration,boolean,boolean)">format</a></span>&#8203;(<a href="../conf/ServerConfiguration.html" title="class in org.apache.bookkeeper.conf">ServerConfiguration</a>&nbsp;conf,
      boolean&nbsp;isInteractive,
      boolean&nbsp;force)</code></th>
<td class="colLast">
<div class="block">Format the BookKeeper metadata in zookeeper.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>(package private) static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#formatEnsemble(java.util.List,java.util.Set,char)">formatEnsemble</a></span>&#8203;(java.util.List&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;ensemble,
              java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookiesSrc,
              char&nbsp;marker)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAllBookies()">getAllBookies</a></span>()</code></th>
<td class="colLast">
<div class="block">Get a list of all bookies including the not available ones.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAvailableBookies()">getAvailableBookies</a></span>()</code></th>
<td class="colLast">
<div class="block">Get a list of the available bookies.</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code><a href="../proto/BookieAddressResolver.html" title="interface in org.apache.bookkeeper.proto">BookieAddressResolver</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBookieAddressResolver()">getBookieAddressResolver</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="../discover/BookieServiceInfo.html" title="class in org.apache.bookkeeper.discover">BookieServiceInfo</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getBookieServiceInfo(org.apache.bookkeeper.net.BookieId)">getBookieServiceInfo</a></span>&#8203;(<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&nbsp;bookiedId)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code><a href="../conf/ClientConfiguration.html" title="class in org.apache.bookkeeper.conf">ClientConfiguration</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getConf()">getConf</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code><a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCurrentAuditor()">getCurrentAuditor</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLedgerMetadata(org.apache.bookkeeper.client.LedgerHandle)">getLedgerMetadata</a></span>&#8203;(<a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a>&nbsp;lh)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>java.util.SortedMap&lt;java.lang.Long,&#8203;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLedgersContainBookies(java.util.Set)">getLedgersContainBookies</a></span>&#8203;(java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookies)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLostBookieRecoveryDelay()">getLostBookieRecoveryDelay</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the current LostBookieRecoveryDelay value (in seconds) in Zookeeper.</div>
</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code>java.util.Collection&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getReadOnlyBookies()">getReadOnlyBookies</a></span>()</code></th>
<td class="colLast">
<div class="block">Get a list of readonly bookies synchronously.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initBookie(org.apache.bookkeeper.conf.ServerConfiguration)">initBookie</a></span>&#8203;(<a href="../conf/ServerConfiguration.html" title="class in org.apache.bookkeeper.conf">ServerConfiguration</a>&nbsp;conf)</code></th>
<td class="colLast">
<div class="block">Initializes bookie, by making sure that the journalDir, ledgerDirs and
 indexDirs are empty and there is no registered Bookie with this BookieId.</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#initNewCluster(org.apache.bookkeeper.conf.ServerConfiguration)">initNewCluster</a></span>&#8203;(<a href="../conf/ServerConfiguration.html" title="class in org.apache.bookkeeper.conf">ServerConfiguration</a>&nbsp;conf)</code></th>
<td class="colLast">
<div class="block">Initializes new cluster by creating required znodes for the cluster.</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code><a href="EnsemblePlacementPolicy.PlacementPolicyAdherence.html" title="enum in org.apache.bookkeeper.client">EnsemblePlacementPolicy.PlacementPolicyAdherence</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isEnsembleAdheringToPlacementPolicy(java.util.List,int,int)">isEnsembleAdheringToPlacementPolicy</a></span>&#8203;(java.util.List&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;ensembleBookiesList,
                                   int&nbsp;writeQuorumSize,
                                   int&nbsp;ackQuorumSize)</code></th>
<td class="colLast">
<div class="block">returns boolean value specifying if the ensemble of the segment is
 adhering to the ensemble placement policy for the given writeQuorumSize
 and ackQuorumSize.</div>
</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>java.lang.Iterable&lt;java.lang.Long&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#listLedgers()">listLedgers</a></span>()</code></th>
<td class="colLast">
<div class="block">This method returns an iterable object for the list of ledger identifiers of
 the ledgers currently available.</div>
</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>static <a href="BookKeeperAdmin.html" title="class in org.apache.bookkeeper.client">BookKeeperAdmin</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#newBookKeeperAdmin(org.apache.bookkeeper.conf.ClientConfiguration)">newBookKeeperAdmin</a></span>&#8203;(<a href="../conf/ClientConfiguration.html" title="class in org.apache.bookkeeper.conf">ClientConfiguration</a>&nbsp;conf)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#nukeExistingCluster(org.apache.bookkeeper.conf.ServerConfiguration,java.lang.String,java.lang.String,boolean)">nukeExistingCluster</a></span>&#8203;(<a href="../conf/ServerConfiguration.html" title="class in org.apache.bookkeeper.conf">ServerConfiguration</a>&nbsp;conf,
                   java.lang.String&nbsp;ledgersRootPath,
                   java.lang.String&nbsp;instanceId,
                   boolean&nbsp;force)</code></th>
<td class="colLast">
<div class="block">Nukes existing cluster metadata.</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code><a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#openLedger(long)">openLedger</a></span>&#8203;(long&nbsp;lId)</code></th>
<td class="colLast">
<div class="block">Open a ledger as an administrator.</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code><a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#openLedgerNoRecovery(long)">openLedgerNoRecovery</a></span>&#8203;(long&nbsp;lId)</code></th>
<td class="colLast">
<div class="block">Open a ledger as an administrator without recovering the ledger.</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code>java.lang.Iterable&lt;<a href="LedgerEntry.html" title="class in org.apache.bookkeeper.client">LedgerEntry</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readEntries(long,long,long)">readEntries</a></span>&#8203;(long&nbsp;ledgerId,
           long&nbsp;firstEntry,
           long&nbsp;lastEntry)</code></th>
<td class="colLast">
<div class="block">Read entries from a ledger synchronously.</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#recoverBookieData(long,java.util.Set,boolean,boolean)">recoverBookieData</a></span>&#8203;(long&nbsp;lid,
                 java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookiesSrc,
                 boolean&nbsp;dryrun,
                 boolean&nbsp;skipOpenLedgers)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#recoverBookieData(java.util.Set)">recoverBookieData</a></span>&#8203;(java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookiesSrc)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#recoverBookieData(java.util.Set,boolean,boolean)">recoverBookieData</a></span>&#8203;(java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookiesSrc,
                 boolean&nbsp;dryrun,
                 boolean&nbsp;skipOpenLedgers)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#recoverBookieData(java.util.Set,boolean,boolean,boolean)">recoverBookieData</a></span>&#8203;(java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookiesSrc,
                 boolean&nbsp;dryrun,
                 boolean&nbsp;skipOpenLedgers,
                 boolean&nbsp;skipUnrecoverableLedgers)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#recoverBookieData(org.apache.bookkeeper.net.BookieId)">recoverBookieData</a></span>&#8203;(<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&nbsp;bookieSrc)</code></th>
<td class="colLast">
<div class="block">Synchronous method to rebuild and recover the ledger fragments data that
 was stored on the source bookie.</div>
</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.Integer,&#8203;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#replaceNotAdheringPlacementPolicyBookie(java.util.List,int,int)">replaceNotAdheringPlacementPolicyBookie</a></span>&#8203;(java.util.List&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;ensembleBookiesList,
                                       int&nbsp;writeQuorumSize,
                                       int&nbsp;ackQuorumSize)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#replicateLedgerFragment(org.apache.bookkeeper.client.LedgerHandle,org.apache.bookkeeper.client.LedgerFragment,java.util.function.BiConsumer)">replicateLedgerFragment</a></span>&#8203;(<a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a>&nbsp;lh,
                       <a href="LedgerFragment.html" title="class in org.apache.bookkeeper.client">LedgerFragment</a>&nbsp;ledgerFragment,
                       java.util.function.BiConsumer&lt;java.lang.Long,&#8203;java.lang.Long&gt;&nbsp;onReadEntryFailureCallback)</code></th>
<td class="colLast">
<div class="block">Replicate the Ledger fragment to target Bookie passed.</div>
</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setLostBookieRecoveryDelay(int)">setLostBookieRecoveryDelay</a></span>&#8203;(int&nbsp;lostBookieRecoveryDelay)</code></th>
<td class="colLast">
<div class="block">Setter for LostBookieRecoveryDelay value (in seconds) in Zookeeper.</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#triggerAudit()">triggerAudit</a></span>()</code></th>
<td class="colLast">
<div class="block">Trigger AuditTask by resetting lostBookieRecoveryDelay to its current
 value.</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#watchReadOnlyBookiesChanged(org.apache.bookkeeper.discover.RegistrationClient.RegistrationListener)">watchReadOnlyBookiesChanged</a></span>&#8203;(<a href="../discover/RegistrationClient.RegistrationListener.html" title="interface in org.apache.bookkeeper.discover">RegistrationClient.RegistrationListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Notify when the available list of read only bookies changes.</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#watchWritableBookiesChanged(org.apache.bookkeeper.discover.RegistrationClient.RegistrationListener)">watchWritableBookiesChanged</a></span>&#8203;(<a href="../discover/RegistrationClient.RegistrationListener.html" title="interface in org.apache.bookkeeper.discover">RegistrationClient.RegistrationListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Notify when the available list of bookies changes.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BookKeeperAdmin</h4>
<pre>public&nbsp;BookKeeperAdmin&#8203;(java.lang.String&nbsp;zkServers)
                throws java.io.IOException,
                       java.lang.InterruptedException,
                       <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<div class="block">Constructor that takes in a ZooKeeper servers connect string so we know
 how to connect to ZooKeeper to retrieve information about the BookKeeper
 cluster. We need this before we can do any type of admin operations on
 the BookKeeper cluster.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>zkServers</code> - Comma separated list of hostname:port pairs for the ZooKeeper
            servers cluster.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - throws this exception if there is an error instantiating the
             ZooKeeper client.</dd>
<dd><code>java.lang.InterruptedException</code> - Throws this exception if there is an error instantiating the
             BookKeeper client.</dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code> - Throws this exception if there is an error instantiating the
             BookKeeper client.</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(org.apache.bookkeeper.conf.ClientConfiguration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BookKeeperAdmin</h4>
<pre>public&nbsp;BookKeeperAdmin&#8203;(<a href="../conf/ClientConfiguration.html" title="class in org.apache.bookkeeper.conf">ClientConfiguration</a>&nbsp;conf)
                throws java.io.IOException,
                       java.lang.InterruptedException,
                       <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<div class="block">Constructor that takes in a configuration object so we know
 how to connect to ZooKeeper to retrieve information about the BookKeeper
 cluster. We need this before we can do any type of admin operations on
 the BookKeeper cluster.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>conf</code> - Client Configuration Object</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - throws this exception if there is an error instantiating the
             ZooKeeper client.</dd>
<dd><code>java.lang.InterruptedException</code> - Throws this exception if there is an error instantiating the
             BookKeeper client.</dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code> - Throws this exception if there is an error instantiating the
             BookKeeper client.</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(org.apache.bookkeeper.client.BookKeeper,org.apache.bookkeeper.stats.StatsLogger,org.apache.bookkeeper.conf.ClientConfiguration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BookKeeperAdmin</h4>
<pre>public&nbsp;BookKeeperAdmin&#8203;(<a href="BookKeeper.html" title="class in org.apache.bookkeeper.client">BookKeeper</a>&nbsp;bkc,
                       <a href="../stats/StatsLogger.html" title="interface in org.apache.bookkeeper.stats">StatsLogger</a>&nbsp;statsLogger,
                       <a href="../conf/ClientConfiguration.html" title="class in org.apache.bookkeeper.conf">ClientConfiguration</a>&nbsp;conf)</pre>
<div class="block">Constructor that takes in a BookKeeper instance . This will be useful,
 when user already has bk instance ready.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bkc</code> - - bookkeeper instance</dd>
<dd><code>statsLogger</code> - - stats logger</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(org.apache.bookkeeper.client.BookKeeper,org.apache.bookkeeper.conf.ClientConfiguration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BookKeeperAdmin</h4>
<pre>public&nbsp;BookKeeperAdmin&#8203;(<a href="BookKeeper.html" title="class in org.apache.bookkeeper.client">BookKeeper</a>&nbsp;bkc,
                       <a href="../conf/ClientConfiguration.html" title="class in org.apache.bookkeeper.conf">ClientConfiguration</a>&nbsp;conf)</pre>
</li>
</ul>
<a id="&lt;init&gt;(org.apache.bookkeeper.client.BookKeeper)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BookKeeperAdmin</h4>
<pre>public&nbsp;BookKeeperAdmin&#8203;(<a href="BookKeeper.html" title="class in org.apache.bookkeeper.client">BookKeeper</a>&nbsp;bkc)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section>
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="newBookKeeperAdmin(org.apache.bookkeeper.conf.ClientConfiguration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newBookKeeperAdmin</h4>
<pre class="methodSignature">public static&nbsp;<a href="BookKeeperAdmin.html" title="class in org.apache.bookkeeper.client">BookKeeperAdmin</a>&nbsp;newBookKeeperAdmin&#8203;(<a href="../conf/ClientConfiguration.html" title="class in org.apache.bookkeeper.conf">ClientConfiguration</a>&nbsp;conf)
                                          throws java.io.IOException,
                                                 java.lang.InterruptedException,
                                                 <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</li>
</ul>
<a id="getConf()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConf</h4>
<pre class="methodSignature">public&nbsp;<a href="../conf/ClientConfiguration.html" title="class in org.apache.bookkeeper.conf">ClientConfiguration</a>&nbsp;getConf()</pre>
</li>
</ul>
<a id="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;close()
           throws java.lang.InterruptedException,
                  <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<div class="block">Gracefully release resources that this client uses.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code> - if there is an error shutting down the clients that this
             class uses.</dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</li>
</ul>
<a id="getAvailableBookies()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAvailableBookies</h4>
<pre class="methodSignature">public&nbsp;java.util.Collection&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;getAvailableBookies()
                                                   throws <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<div class="block">Get a list of the available bookies.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a collection of bookie addresses</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</li>
</ul>
<a id="getAllBookies()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllBookies</h4>
<pre class="methodSignature">public&nbsp;java.util.Collection&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;getAllBookies()
                                             throws <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<div class="block">Get a list of all bookies including the not available ones.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a collection of bookie addresses</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</li>
</ul>
<a id="getBookieAddressResolver()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBookieAddressResolver</h4>
<pre class="methodSignature">public&nbsp;<a href="../proto/BookieAddressResolver.html" title="interface in org.apache.bookkeeper.proto">BookieAddressResolver</a>&nbsp;getBookieAddressResolver()</pre>
</li>
</ul>
<a id="getBookieServiceInfo(org.apache.bookkeeper.net.BookieId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getBookieServiceInfo</h4>
<pre class="methodSignature">public&nbsp;<a href="../discover/BookieServiceInfo.html" title="class in org.apache.bookkeeper.discover">BookieServiceInfo</a>&nbsp;getBookieServiceInfo&#8203;(<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&nbsp;bookiedId)
                                       throws <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</li>
</ul>
<a id="getReadOnlyBookies()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReadOnlyBookies</h4>
<pre class="methodSignature">public&nbsp;java.util.Collection&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;getReadOnlyBookies()
                                                  throws <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<div class="block">Get a list of readonly bookies synchronously.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a collection of bookie addresses</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code> - if there are issues trying to read the list.</dd>
</dl>
</li>
</ul>
<a id="watchWritableBookiesChanged(org.apache.bookkeeper.discover.RegistrationClient.RegistrationListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>watchWritableBookiesChanged</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;watchWritableBookiesChanged&#8203;(<a href="../discover/RegistrationClient.RegistrationListener.html" title="interface in org.apache.bookkeeper.discover">RegistrationClient.RegistrationListener</a>&nbsp;listener)
                                 throws <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<div class="block">Notify when the available list of bookies changes.
 Once registered, the listener will be notified when the list of available bookies changes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the listener to notify</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</li>
</ul>
<a id="watchReadOnlyBookiesChanged(org.apache.bookkeeper.discover.RegistrationClient.RegistrationListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>watchReadOnlyBookiesChanged</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;watchReadOnlyBookiesChanged&#8203;(<a href="../discover/RegistrationClient.RegistrationListener.html" title="interface in org.apache.bookkeeper.discover">RegistrationClient.RegistrationListener</a>&nbsp;listener)
                                 throws <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<div class="block">Notify when the available list of read only bookies changes.
 Once registered, the listener will be notified when the list of available bookies changes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>listener</code> - the listener to notify</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</li>
</ul>
<a id="asyncOpenLedger(long,org.apache.bookkeeper.client.AsyncCallback.OpenCallback,java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asyncOpenLedger</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;asyncOpenLedger&#8203;(long&nbsp;lId,
                            <a href="AsyncCallback.OpenCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.OpenCallback</a>&nbsp;cb,
                            java.lang.Object&nbsp;ctx)</pre>
<div class="block">Open a ledger as an administrator. This means that no digest password
 checks are done. Otherwise, the call is identical to BookKeeper#asyncOpenLedger</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lId</code> - ledger identifier</dd>
<dd><code>cb</code> - Callback which will receive a LedgerHandle object</dd>
<dd><code>ctx</code> - optional context object, to be passwd to the callback (can be null)</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="BookKeeper.html#asyncOpenLedger(long,org.apache.bookkeeper.client.BookKeeper.DigestType,byte%5B%5D,org.apache.bookkeeper.client.AsyncCallback.OpenCallback,java.lang.Object)"><code>BookKeeper.asyncOpenLedger(long, org.apache.bookkeeper.client.BookKeeper.DigestType, byte[], org.apache.bookkeeper.client.AsyncCallback.OpenCallback, java.lang.Object)</code></a></dd>
</dl>
</li>
</ul>
<a id="openLedger(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openLedger</h4>
<pre class="methodSignature">public&nbsp;<a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a>&nbsp;openLedger&#8203;(long&nbsp;lId)
                        throws java.lang.InterruptedException,
                               <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<div class="block">Open a ledger as an administrator. This means that no digest password
 checks are done. Otherwise, the call is identical to
 BookKeeper#openLedger</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lId</code> - - ledger identifier</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="BookKeeper.html#openLedger(long,org.apache.bookkeeper.client.BookKeeper.DigestType,byte%5B%5D)"><code>BookKeeper.openLedger(long, org.apache.bookkeeper.client.BookKeeper.DigestType, byte[])</code></a></dd>
</dl>
</li>
</ul>
<a id="asyncOpenLedgerNoRecovery(long,org.apache.bookkeeper.client.AsyncCallback.OpenCallback,java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asyncOpenLedgerNoRecovery</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;asyncOpenLedgerNoRecovery&#8203;(long&nbsp;lId,
                                      <a href="AsyncCallback.OpenCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.OpenCallback</a>&nbsp;cb,
                                      java.lang.Object&nbsp;ctx)</pre>
<div class="block">Open a ledger as an administrator without recovering the ledger. This means
 that no digest password  checks are done. Otherwise, the call is identical
 to BookKeeper#asyncOpenLedgerNoRecovery</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lId</code> - ledger identifier</dd>
<dd><code>cb</code> - Callback which will receive a LedgerHandle object</dd>
<dd><code>ctx</code> - optional context object, to be passwd to the callback (can be null)</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="BookKeeper.html#asyncOpenLedgerNoRecovery(long,org.apache.bookkeeper.client.BookKeeper.DigestType,byte%5B%5D,org.apache.bookkeeper.client.AsyncCallback.OpenCallback,java.lang.Object)"><code>BookKeeper.asyncOpenLedgerNoRecovery(long, org.apache.bookkeeper.client.BookKeeper.DigestType, byte[], org.apache.bookkeeper.client.AsyncCallback.OpenCallback, java.lang.Object)</code></a></dd>
</dl>
</li>
</ul>
<a id="openLedgerNoRecovery(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>openLedgerNoRecovery</h4>
<pre class="methodSignature">public&nbsp;<a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a>&nbsp;openLedgerNoRecovery&#8203;(long&nbsp;lId)
                                  throws java.lang.InterruptedException,
                                         <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<div class="block">Open a ledger as an administrator without recovering the ledger. This
 means that no digest password checks are done. Otherwise, the call is
 identical to BookKeeper#openLedgerNoRecovery</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lId</code> - ledger identifier</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="BookKeeper.html#openLedgerNoRecovery(long,org.apache.bookkeeper.client.BookKeeper.DigestType,byte%5B%5D)"><code>BookKeeper.openLedgerNoRecovery(long, org.apache.bookkeeper.client.BookKeeper.DigestType, byte[])</code></a></dd>
</dl>
</li>
</ul>
<a id="readEntries(long,long,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readEntries</h4>
<pre class="methodSignature">public&nbsp;java.lang.Iterable&lt;<a href="LedgerEntry.html" title="class in org.apache.bookkeeper.client">LedgerEntry</a>&gt;&nbsp;readEntries&#8203;(long&nbsp;ledgerId,
                                                   long&nbsp;firstEntry,
                                                   long&nbsp;lastEntry)
                                            throws java.lang.InterruptedException,
                                                   <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<div class="block">Read entries from a ledger synchronously. If the lastEntry is -1, it will read all the entries in the ledger from
 the firstEntry.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ledgerId</code> - </dd>
<dd><code>firstEntry</code> - </dd>
<dd><code>lastEntry</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</li>
</ul>
<a id="getLedgersContainBookies(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLedgersContainBookies</h4>
<pre class="methodSignature">public&nbsp;java.util.SortedMap&lt;java.lang.Long,&#8203;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;&nbsp;getLedgersContainBookies&#8203;(java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookies)
                                                                                  throws java.lang.InterruptedException,
                                                                                         <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</li>
</ul>
<a id="asyncGetLedgersContainBookies(java.util.Set,org.apache.bookkeeper.proto.BookkeeperInternalCallbacks.GenericCallback)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asyncGetLedgersContainBookies</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;asyncGetLedgersContainBookies&#8203;(java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookies,
                                          <a href="../proto/BookkeeperInternalCallbacks.GenericCallback.html" title="interface in org.apache.bookkeeper.proto">BookkeeperInternalCallbacks.GenericCallback</a>&lt;java.util.SortedMap&lt;java.lang.Long,&#8203;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&gt;&gt;&nbsp;callback)</pre>
</li>
</ul>
<a id="recoverBookieData(org.apache.bookkeeper.net.BookieId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverBookieData</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;recoverBookieData&#8203;(<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&nbsp;bookieSrc)
                       throws java.lang.InterruptedException,
                              <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<div class="block">Synchronous method to rebuild and recover the ledger fragments data that
 was stored on the source bookie. That bookie could have failed completely
 and now the ledger data that was stored on it is under replicated. An
 optional destination bookie server could be given if we want to copy all
 of the ledger fragments data on the failed source bookie to it.
 Otherwise, we will just randomly distribute the ledger fragments to the
 active set of bookies, perhaps based on load. All ZooKeeper ledger
 metadata will be updated to point to the new bookie(s) that contain the
 replicated ledger fragments.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bookieSrc</code> - Source bookie that had a failure. We want to replicate the
            ledger fragments that were stored there.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</li>
</ul>
<a id="recoverBookieData(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverBookieData</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;recoverBookieData&#8203;(java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookiesSrc)
                       throws java.lang.InterruptedException,
                              <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</li>
</ul>
<a id="recoverBookieData(java.util.Set,boolean,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverBookieData</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;recoverBookieData&#8203;(java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookiesSrc,
                              boolean&nbsp;dryrun,
                              boolean&nbsp;skipOpenLedgers)
                       throws java.lang.InterruptedException,
                              <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</li>
</ul>
<a id="recoverBookieData(java.util.Set,boolean,boolean,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverBookieData</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;recoverBookieData&#8203;(java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookiesSrc,
                              boolean&nbsp;dryrun,
                              boolean&nbsp;skipOpenLedgers,
                              boolean&nbsp;skipUnrecoverableLedgers)
                       throws java.lang.InterruptedException,
                              <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</li>
</ul>
<a id="recoverBookieData(long,java.util.Set,boolean,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>recoverBookieData</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;recoverBookieData&#8203;(long&nbsp;lid,
                              java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookiesSrc,
                              boolean&nbsp;dryrun,
                              boolean&nbsp;skipOpenLedgers)
                       throws java.lang.InterruptedException,
                              <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</li>
</ul>
<a id="asyncRecoverBookieData(org.apache.bookkeeper.net.BookieId,org.apache.bookkeeper.client.AsyncCallback.RecoverCallback,java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asyncRecoverBookieData</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;asyncRecoverBookieData&#8203;(<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&nbsp;bookieSrc,
                                   <a href="AsyncCallback.RecoverCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.RecoverCallback</a>&nbsp;cb,
                                   java.lang.Object&nbsp;context)</pre>
<div class="block">Async method to rebuild and recover the ledger fragments data that was
 stored on the source bookie. That bookie could have failed completely and
 now the ledger data that was stored on it is under replicated. An
 optional destination bookie server could be given if we want to copy all
 of the ledger fragments data on the failed source bookie to it.
 Otherwise, we will just randomly distribute the ledger fragments to the
 active set of bookies, perhaps based on load. All ZooKeeper ledger
 metadata will be updated to point to the new bookie(s) that contain the
 replicated ledger fragments.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bookieSrc</code> - Source bookie that had a failure. We want to replicate the
            ledger fragments that were stored there.</dd>
<dd><code>cb</code> - RecoverCallback to invoke once all of the data on the dead
            bookie has been recovered and replicated.</dd>
<dd><code>context</code> - Context for the RecoverCallback to call.</dd>
</dl>
</li>
</ul>
<a id="asyncRecoverBookieData(java.util.Set,org.apache.bookkeeper.client.AsyncCallback.RecoverCallback,java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asyncRecoverBookieData</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;asyncRecoverBookieData&#8203;(java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookieSrc,
                                   <a href="AsyncCallback.RecoverCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.RecoverCallback</a>&nbsp;cb,
                                   java.lang.Object&nbsp;context)</pre>
</li>
</ul>
<a id="asyncRecoverBookieData(java.util.Set,boolean,boolean,boolean,org.apache.bookkeeper.client.AsyncCallback.RecoverCallback,java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asyncRecoverBookieData</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;asyncRecoverBookieData&#8203;(java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookieSrc,
                                   boolean&nbsp;dryrun,
                                   boolean&nbsp;skipOpenLedgers,
                                   boolean&nbsp;skipUnrecoverableLedgers,
                                   <a href="AsyncCallback.RecoverCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.RecoverCallback</a>&nbsp;cb,
                                   java.lang.Object&nbsp;context)</pre>
</li>
</ul>
<a id="asyncRecoverBookieData(long,java.util.Set,boolean,boolean,org.apache.bookkeeper.client.AsyncCallback.RecoverCallback,java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asyncRecoverBookieData</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;asyncRecoverBookieData&#8203;(long&nbsp;lid,
                                   java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookieSrc,
                                   boolean&nbsp;dryrun,
                                   boolean&nbsp;skipOpenLedgers,
                                   <a href="AsyncCallback.RecoverCallback.html" title="interface in org.apache.bookkeeper.client">AsyncCallback.RecoverCallback</a>&nbsp;callback,
                                   java.lang.Object&nbsp;context)</pre>
<div class="block">Recover a specific ledger.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lid</code> - ledger to recover</dd>
<dd><code>bookieSrc</code> - Source bookies that had a failure. We want to replicate the ledger fragments that were stored there.</dd>
<dd><code>dryrun</code> - dryrun the recover procedure.</dd>
<dd><code>skipOpenLedgers</code> - Skip recovering open ledgers.</dd>
<dd><code>callback</code> - RecoverCallback to invoke once all of the data on the dead
          bookie has been recovered and replicated.</dd>
<dd><code>context</code> - Context for the RecoverCallback to call.</dd>
</dl>
</li>
</ul>
<a id="formatEnsemble(java.util.List,java.util.Set,char)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>formatEnsemble</h4>
<pre class="methodSignature">static&nbsp;java.lang.String&nbsp;formatEnsemble&#8203;(java.util.List&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;ensemble,
                                       java.util.Set&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;bookiesSrc,
                                       char&nbsp;marker)</pre>
</li>
</ul>
<a id="replicateLedgerFragment(org.apache.bookkeeper.client.LedgerHandle,org.apache.bookkeeper.client.LedgerFragment,java.util.function.BiConsumer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replicateLedgerFragment</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;replicateLedgerFragment&#8203;(<a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a>&nbsp;lh,
                                    <a href="LedgerFragment.html" title="class in org.apache.bookkeeper.client">LedgerFragment</a>&nbsp;ledgerFragment,
                                    java.util.function.BiConsumer&lt;java.lang.Long,&#8203;java.lang.Long&gt;&nbsp;onReadEntryFailureCallback)
                             throws java.lang.InterruptedException,
                                    <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<div class="block">Replicate the Ledger fragment to target Bookie passed.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lh</code> - - ledgerHandle</dd>
<dd><code>ledgerFragment</code> - - LedgerFragment to replicate</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</li>
</ul>
<a id="format(org.apache.bookkeeper.conf.ServerConfiguration,boolean,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>format</h4>
<pre class="methodSignature">public static&nbsp;boolean&nbsp;format&#8203;(<a href="../conf/ServerConfiguration.html" title="class in org.apache.bookkeeper.conf">ServerConfiguration</a>&nbsp;conf,
                             boolean&nbsp;isInteractive,
                             boolean&nbsp;force)
                      throws java.lang.Exception</pre>
<div class="block">Format the BookKeeper metadata in zookeeper.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>isInteractive</code> - Whether format should ask prompt for confirmation if old data
            exists or not.</dd>
<dd><code>force</code> - If non interactive and force is true, then old data will be
            removed without prompt.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Returns true if format succeeds else false.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a id="initNewCluster(org.apache.bookkeeper.conf.ServerConfiguration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initNewCluster</h4>
<pre class="methodSignature">public static&nbsp;boolean&nbsp;initNewCluster&#8203;(<a href="../conf/ServerConfiguration.html" title="class in org.apache.bookkeeper.conf">ServerConfiguration</a>&nbsp;conf)
                              throws java.lang.Exception</pre>
<div class="block">Initializes new cluster by creating required znodes for the cluster. If
 ledgersrootpath is already existing then it will error out.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>conf</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a id="nukeExistingCluster(org.apache.bookkeeper.conf.ServerConfiguration,java.lang.String,java.lang.String,boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>nukeExistingCluster</h4>
<pre class="methodSignature">public static&nbsp;boolean&nbsp;nukeExistingCluster&#8203;(<a href="../conf/ServerConfiguration.html" title="class in org.apache.bookkeeper.conf">ServerConfiguration</a>&nbsp;conf,
                                          java.lang.String&nbsp;ledgersRootPath,
                                          java.lang.String&nbsp;instanceId,
                                          boolean&nbsp;force)
                                   throws java.lang.Exception</pre>
<div class="block">Nukes existing cluster metadata. But it does only if the provided
 ledgersRootPath matches with configuration's zkLedgersRootPath and
 provided instanceid matches with the cluster metadata. If force is
 mentioned then instanceid will not be validated.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>conf</code> - </dd>
<dd><code>ledgersRootPath</code> - </dd>
<dd><code>instanceId</code> - </dd>
<dd><code>force</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a id="initBookie(org.apache.bookkeeper.conf.ServerConfiguration)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>initBookie</h4>
<pre class="methodSignature">public static&nbsp;boolean&nbsp;initBookie&#8203;(<a href="../conf/ServerConfiguration.html" title="class in org.apache.bookkeeper.conf">ServerConfiguration</a>&nbsp;conf)
                          throws java.lang.Exception</pre>
<div class="block">Initializes bookie, by making sure that the journalDir, ledgerDirs and
 indexDirs are empty and there is no registered Bookie with this BookieId.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>conf</code> - </dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code></dd>
</dl>
</li>
</ul>
<a id="listLedgers()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>listLedgers</h4>
<pre class="methodSignature">public&nbsp;java.lang.Iterable&lt;java.lang.Long&gt;&nbsp;listLedgers()
                                               throws java.io.IOException</pre>
<div class="block">This method returns an iterable object for the list of ledger identifiers of
 the ledgers currently available.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an iterable object for the list of ledger identifiers</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the list of ledger identifiers cannot be read from the
  metadata store</dd>
</dl>
</li>
</ul>
<a id="getLedgerMetadata(org.apache.bookkeeper.client.LedgerHandle)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLedgerMetadata</h4>
<pre class="methodSignature">public&nbsp;<a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&nbsp;getLedgerMetadata&#8203;(<a href="LedgerHandle.html" title="class in org.apache.bookkeeper.client">LedgerHandle</a>&nbsp;lh)</pre>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the metadata for the passed ledger handle</dd>
</dl>
</li>
</ul>
<a id="setLostBookieRecoveryDelay(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLostBookieRecoveryDelay</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setLostBookieRecoveryDelay&#8203;(int&nbsp;lostBookieRecoveryDelay)
                                throws <a href="../replication/ReplicationException.CompatibilityException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.CompatibilityException</a>,
                                       org.apache.zookeeper.KeeperException,
                                       java.lang.InterruptedException,
                                       <a href="../replication/ReplicationException.UnavailableException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.UnavailableException</a></pre>
<div class="block">Setter for LostBookieRecoveryDelay value (in seconds) in Zookeeper.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>lostBookieRecoveryDelay</code> - lostBookieRecoveryDelay value (in seconds) to set</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../replication/ReplicationException.CompatibilityException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.CompatibilityException</a></code></dd>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="../replication/ReplicationException.UnavailableException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.UnavailableException</a></code></dd>
</dl>
</li>
</ul>
<a id="getLostBookieRecoveryDelay()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLostBookieRecoveryDelay</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getLostBookieRecoveryDelay()
                               throws <a href="../replication/ReplicationException.CompatibilityException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.CompatibilityException</a>,
                                      org.apache.zookeeper.KeeperException,
                                      java.lang.InterruptedException,
                                      <a href="../replication/ReplicationException.UnavailableException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.UnavailableException</a></pre>
<div class="block">Returns the current LostBookieRecoveryDelay value (in seconds) in Zookeeper.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>current lostBookieRecoveryDelay value (in seconds)</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../replication/ReplicationException.CompatibilityException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.CompatibilityException</a></code></dd>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="../replication/ReplicationException.UnavailableException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.UnavailableException</a></code></dd>
</dl>
</li>
</ul>
<a id="triggerAudit()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>triggerAudit</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;triggerAudit()
                  throws <a href="../replication/ReplicationException.CompatibilityException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.CompatibilityException</a>,
                         org.apache.zookeeper.KeeperException,
                         java.lang.InterruptedException,
                         <a href="../replication/ReplicationException.UnavailableException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.UnavailableException</a>,
                         java.io.IOException</pre>
<div class="block">Trigger AuditTask by resetting lostBookieRecoveryDelay to its current
 value. If Autorecovery is not enabled or if there is no Auditor then this
 method will throw UnavailableException.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../replication/ReplicationException.CompatibilityException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.CompatibilityException</a></code></dd>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code><a href="../replication/ReplicationException.UnavailableException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.UnavailableException</a></code></dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="decommissionBookie(org.apache.bookkeeper.net.BookieId)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>decommissionBookie</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;decommissionBookie&#8203;(<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&nbsp;bookieAddress)
                        throws <a href="../replication/ReplicationException.CompatibilityException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.CompatibilityException</a>,
                               <a href="../replication/ReplicationException.UnavailableException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.UnavailableException</a>,
                               org.apache.zookeeper.KeeperException,
                               java.lang.InterruptedException,
                               java.io.IOException,
                               <a href="../replication/ReplicationException.BKAuditException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.BKAuditException</a>,
                               java.util.concurrent.TimeoutException,
                               <a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></pre>
<div class="block">Triggers AuditTask by resetting lostBookieRecoveryDelay and then make
 sure the ledgers stored in the given decommissioning bookie are properly
 replicated and they are not underreplicated because of the given bookie.
 This method waits until there are no underreplicatedledgers because of this
 bookie. If the given Bookie is not shutdown yet, then it will throw
 BKIllegalOpException.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bookieAddress</code> - address of the decommissioning bookie</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../replication/ReplicationException.CompatibilityException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.CompatibilityException</a></code></dd>
<dd><code><a href="../replication/ReplicationException.UnavailableException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.UnavailableException</a></code></dd>
<dd><code>org.apache.zookeeper.KeeperException</code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
<dd><code>java.io.IOException</code></dd>
<dd><code><a href="../replication/ReplicationException.BKAuditException.html" title="class in org.apache.bookkeeper.replication">ReplicationException.BKAuditException</a></code></dd>
<dd><code>java.util.concurrent.TimeoutException</code></dd>
<dd><code><a href="BKException.html" title="class in org.apache.bookkeeper.client">BKException</a></code></dd>
</dl>
</li>
</ul>
<a id="areEntriesOfLedgerStoredInTheBookie(long,org.apache.bookkeeper.net.BookieId,org.apache.bookkeeper.meta.LedgerManager)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>areEntriesOfLedgerStoredInTheBookie</h4>
<pre class="methodSignature">public static&nbsp;boolean&nbsp;areEntriesOfLedgerStoredInTheBookie&#8203;(long&nbsp;ledgerId,
                                                          <a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&nbsp;bookieAddress,
                                                          <a href="../meta/LedgerManager.html" title="interface in org.apache.bookkeeper.meta">LedgerManager</a>&nbsp;ledgerManager)</pre>
</li>
</ul>
<a id="areEntriesOfLedgerStoredInTheBookie(long,org.apache.bookkeeper.net.BookieId,org.apache.bookkeeper.client.api.LedgerMetadata)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>areEntriesOfLedgerStoredInTheBookie</h4>
<pre class="methodSignature">public static&nbsp;boolean&nbsp;areEntriesOfLedgerStoredInTheBookie&#8203;(long&nbsp;ledgerId,
                                                          <a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&nbsp;bookieAddress,
                                                          <a href="api/LedgerMetadata.html" title="interface in org.apache.bookkeeper.client.api">LedgerMetadata</a>&nbsp;ledgerMetadata)</pre>
</li>
</ul>
<a id="isEnsembleAdheringToPlacementPolicy(java.util.List,int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isEnsembleAdheringToPlacementPolicy</h4>
<pre class="methodSignature">public&nbsp;<a href="EnsemblePlacementPolicy.PlacementPolicyAdherence.html" title="enum in org.apache.bookkeeper.client">EnsemblePlacementPolicy.PlacementPolicyAdherence</a>&nbsp;isEnsembleAdheringToPlacementPolicy&#8203;(java.util.List&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;ensembleBookiesList,
                                                                                            int&nbsp;writeQuorumSize,
                                                                                            int&nbsp;ackQuorumSize)</pre>
<div class="block">returns boolean value specifying if the ensemble of the segment is
 adhering to the ensemble placement policy for the given writeQuorumSize
 and ackQuorumSize.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ensembleBookiesList</code> - ensemble of the segment</dd>
<dd><code>writeQuorumSize</code> - writeQuorumSize of the ledger</dd>
<dd><code>ackQuorumSize</code> - ackQuorumSize of the ledger</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><tt>true</tt> if the ledger is adhering to
         EnsemblePlacementPolicy</dd>
</dl>
</li>
</ul>
<a id="replaceNotAdheringPlacementPolicyBookie(java.util.List,int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>replaceNotAdheringPlacementPolicyBookie</h4>
<pre class="methodSignature">public&nbsp;java.util.Map&lt;java.lang.Integer,&#8203;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;replaceNotAdheringPlacementPolicyBookie&#8203;(java.util.List&lt;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&gt;&nbsp;ensembleBookiesList,
                                                                                               int&nbsp;writeQuorumSize,
                                                                                               int&nbsp;ackQuorumSize)</pre>
</li>
</ul>
<a id="asyncGetListOfEntriesOfLedger(org.apache.bookkeeper.net.BookieId,long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asyncGetListOfEntriesOfLedger</h4>
<pre class="methodSignature">public&nbsp;java.util.concurrent.CompletableFuture&lt;<a href="../util/AvailabilityOfEntriesOfLedger.html" title="class in org.apache.bookkeeper.util">AvailabilityOfEntriesOfLedger</a>&gt;&nbsp;asyncGetListOfEntriesOfLedger&#8203;(<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&nbsp;address,
                                                                                                           long&nbsp;ledgerId)</pre>
<div class="block">Makes async request for getting list of entries of ledger from a bookie
 and returns Future for the result.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>address</code> - BookieId of the bookie</dd>
<dd><code>ledgerId</code> - ledgerId</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>returns Future</dd>
</dl>
</li>
</ul>
<a id="getCurrentAuditor()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getCurrentAuditor</h4>
<pre class="methodSignature">public&nbsp;<a href="../net/BookieId.html" title="class in org.apache.bookkeeper.net">BookieId</a>&nbsp;getCurrentAuditor()
                           throws java.io.IOException,
                                  java.lang.InterruptedException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>java.lang.InterruptedException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BookKeeperAdmin.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &#169; 2011&#x2013;2023 <a href="https://www.apache.org/">The Apache Software Foundation</a>. All rights reserved.</small></p>
</footer>
</body>
</html>
