<!DOCTYPE html>
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE- 2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<html>
  <head>
    <title>Apache BookKeeper - BookKeeper Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="/archives/css/bootstrap.min.css" rel="stylesheet">
    <link href="/archives/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="/archives/css/styles.css" rel="stylesheet">
  </head>
  <body>
    <header class="navbar navbar-inverse navbar-static-top" role="banner">
      <div class="container">
    	<div class="navbar-header hidden-xs hidden-sm">
    	  <a class="navbar-brand navbar-logo" href="/archives/"><img class="img-responsive" src="/archives/img/bookkeeper_blk40.png" alt="Bookkeeper Logo" /></a>
    	</div>
    	<div class="navbar-header">
    	  <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
    	  </button>
    	  <a class="navbar-brand" href="/archives/">Apache BookKeeper</a>
    	</div>
    	<nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
    	  <ul class="nav navbar-nav">
    	    <li><a href="/archives/releases.html">Download</a></li>

    	    <li class="dropdown">
    	      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Documentation<span class="caret"></span></a>
    	      <ul class="dropdown-menu" role="menu">
		<li><a href="/archives/docs/master">Latest (master)</a></li>
		<li><ul>
		    <li><a href="/archives/docs/master/apidocs">Java API docs</a></li>
		    <li><a href="/archives/docs/master/bookkeeperTutorial.html">Tutorial</a></li>
		    <li><a href="/archives/docs/master/bookkeeperConfig.html">Admin guide</a></li>
		</ul><li>
                <li><a href="/archives/docs/r4.4.0">Release 4.4.0</a></li>
                <li class="divider"></li>
                <li>Older releases</li>
                <li><a href="/archives/docs/r4.3.2">Release 4.3.2</a></li>
                <li><a href="/archives/docs/r4.3.1">Release 4.3.1</a></li>
                <li><a href="/archives/docs/r4.3.0">Release 4.3.0</a></li>
                <li><a href="/archives/docs/r4.2.4">Release 4.2.4</a></li>
                <li><a href="/archives/docs/r4.2.3">Release 4.2.3</a></li>
                <li><a href="/archives/docs/r4.2.2">Release 4.2.2</a></li>
                <li><a href="/archives/docs/r4.2.1">Release 4.2.1</a></li>
                <li><a href="/archives/docs/r4.2.0">Release 4.2.0</a></li>
                <li><a href="/archives/docs/r4.1.0">Release 4.1.0</a></li>
                <li><a href="/archives/docs/r4.0.0">Release 4.0.0</a></li>
              </ul>
            </li>
            
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Get Involved<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="/archives/lists.html">Mailing Lists</a></li>
                <li><a href="/archives/irc.html">IRC</a></li>
                <li><a href="/archives/svn.html">Version Control</a></li>
                <li><a href="https://issues.apache.org/jira/browse/BOOKKEEPER">Issue Tracker</a></li>
              </ul>
            </li>

            <li><a href="https://cwiki.apache.org/confluence/display/BOOKKEEPER/Index">Wiki</a></li>
            <!--<li><a href="#">Hedwig</a></li>//-->
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Project Info<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="/archives/credits.html">Who are we?</a></li>
                <li><a href="/archives/bylaws.html">Bylaws</a></li>
                <li><a href="http://www.apache.org/licenses/">License</a></li>
                <li class="divider"></li>
                <li><a href="/archives/privacy.html">Privacy Policy</a></li>
                <li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsership</a></li>
                <li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
              </ul>
            </li>
          </ul>
          <script>
            (function() {
            var cx = '017580107654524087317:iqnsyimpydg';
            var gcse = document.createElement('script');
            gcse.type = 'text/javascript';
            gcse.async = true;
            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(gcse, s);
            })();
          </script>
          
          <div class="navbar-form navbar-right visible-lg" id="googlebox">
            <gcse:searchbox-only></gcse:searchbox-only>
          </div>
        </nav>
      </div>
    </header>
    <div class="container">

 <h1>Release Notes - Bookkeeper - Version 4.2.0</h1>
    <br />
<h2>        Sub-task
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-2'><span class="caps">BOOKKEEPER</span>-2</a>] -         bookkeeper does not put enough meta-data in to do recovery properly
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-203'><span class="caps">BOOKKEEPER</span>-203</a>] -         improve ledger manager interface to remove zookeeper dependency on metadata operations.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-204'><span class="caps">BOOKKEEPER</span>-204</a>] -         Provide a MetaStore interface, and a mock implementation.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-205'><span class="caps">BOOKKEEPER</span>-205</a>] -         implement a MetaStore based ledger manager for bookkeeper client.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-246'><span class="caps">BOOKKEEPER</span>-246</a>] -         Recording of underreplication of ledger entries
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-247'><span class="caps">BOOKKEEPER</span>-247</a>] -         Detection of under replication
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-248'><span class="caps">BOOKKEEPER</span>-248</a>] -         Rereplicating of under replicated data
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-250'><span class="caps">BOOKKEEPER</span>-250</a>] -         Need a ledger manager like interface to manage metadata operations in Hedwig
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-259'><span class="caps">BOOKKEEPER</span>-259</a>] -         Create a topic manager using versioned write for leader election
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-262'><span class="caps">BOOKKEEPER</span>-262</a>] -         Implement a meta store based hedwig metadata manager.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-272'><span class="caps">BOOKKEEPER</span>-272</a>] -         Provide automatic mechanism to know bookie failures
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-278'><span class="caps">BOOKKEEPER</span>-278</a>] -         Ability to disable auto recovery temporarily
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-283'><span class="caps">BOOKKEEPER</span>-283</a>] -         Improve Hedwig Console to use Hedwig Metadata Manager.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-293'><span class="caps">BOOKKEEPER</span>-293</a>] -         Periodic checking of ledger replication status
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-299'><span class="caps">BOOKKEEPER</span>-299</a>] -         Provide LedgerFragmentReplicator which should replicate the fragments found from LedgerChecker
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-304'><span class="caps">BOOKKEEPER</span>-304</a>] -         Prepare bookie vs ledgers cache and will be used by the Auditor
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-310'><span class="caps">BOOKKEEPER</span>-310</a>] -         Changes in hedwig server to support <span class="caps">JMS </span>spec
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-315'><span class="caps">BOOKKEEPER</span>-315</a>] -         Ledger entries should be replicated sequentially instead of parallel.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-317'><span class="caps">BOOKKEEPER</span>-317</a>] -         Exceptions for replication
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-319'><span class="caps">BOOKKEEPER</span>-319</a>] -         Manage auditing and replication processes
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-325'><span class="caps">BOOKKEEPER</span>-325</a>] -         Delay the replication of a ledger if RW found that its last fragment is in underReplication.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-331'><span class="caps">BOOKKEEPER</span>-331</a>] -         Let hedwig support returning message seq id for publish requests.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-332'><span class="caps">BOOKKEEPER</span>-332</a>] -         Add SubscriptionPreferences to record all preferences for a subscription
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-333'><span class="caps">BOOKKEEPER</span>-333</a>] -         server-side message filter
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-334'><span class="caps">BOOKKEEPER</span>-334</a>] -         client-side message filter for java client.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-335'><span class="caps">BOOKKEEPER</span>-335</a>] -         client-side message filter for cpp client.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-341'><span class="caps">BOOKKEEPER</span>-341</a>] -         add documentation for bookkeeper ledger manager interface.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-342'><span class="caps">BOOKKEEPER</span>-342</a>] -         add documentation for hedwig metadata manager interface.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-345'><span class="caps">BOOKKEEPER</span>-345</a>] -         Detect <span class="caps">IOE</span>xceptions on entrylogger and bookie should consider next ledger dir(if any)
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-346'><span class="caps">BOOKKEEPER</span>-346</a>] -         Detect <span class="caps">IOE</span>xceptions in LedgerCache and bookie should look at next ledger dir(if any)
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-347'><span class="caps">BOOKKEEPER</span>-347</a>] -          Provide mechanism to detect r-o bookie by the bookie clients
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-364'><span class="caps">BOOKKEEPER</span>-364</a>] -         re-factor hedwig java client to support both one-subscription-per-channel and multiplex-subscriptions-per-channel.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-367'><span class="caps">BOOKKEEPER</span>-367</a>] -         Server-Side Message Delivery Flow Control
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-368'><span class="caps">BOOKKEEPER</span>-368</a>] -         Implementing multiplexing java client.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-369'><span class="caps">BOOKKEEPER</span>-369</a>] -         re-factor hedwig cpp client to provide better interface to support both one-subscription-per-channel and multiple-subscriptions-per-channel.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-370'><span class="caps">BOOKKEEPER</span>-370</a>] -         implement multiplexing cpp client.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-375'><span class="caps">BOOKKEEPER</span>-375</a>] -         Document about Auto replication service in BK
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-376'><span class="caps">BOOKKEEPER</span>-376</a>] -         LedgerManagers should consider &#39;underreplication&#39; node as a special Znode
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-378'><span class="caps">BOOKKEEPER</span>-378</a>] -         ReplicationWorker may not get ZK watcher notification on UnderReplication ledger lock deletion.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-380'><span class="caps">BOOKKEEPER</span>-380</a>] -         ZkLedgerUnderreplicationManager.markLedgerUnderreplicated() is adding duplicate missingReplicas while multiple bk failed for the same ledger
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-384'><span class="caps">BOOKKEEPER</span>-384</a>] -         Clean up LedgerManagerFactory and LedgerManager usage in tests
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-385'><span class="caps">BOOKKEEPER</span>-385</a>] -         replicateLedgerFragment should throw Exceptions in error conditions
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-386'><span class="caps">BOOKKEEPER</span>-386</a>] -         It should not be possible to replicate a ledger fragment which is at the end of an open ledger
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-389'><span class="caps">BOOKKEEPER</span>-389</a>] -         add documentation for message filter.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-405'><span class="caps">BOOKKEEPER</span>-405</a>] -         Let&#39;s add Thread name for ReplicationWorker thread.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-409'><span class="caps">BOOKKEEPER</span>-409</a>] -         Integration Test - Perform bookie rereplication cycle by Auditor-RW processes
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-411'><span class="caps">BOOKKEEPER</span>-411</a>] -         Add CloseSubscription Request for multiplexing support
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-416'><span class="caps">BOOKKEEPER</span>-416</a>] -         LedgerChecker returns underreplicated fragments for an closed ledger with no entries
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-417'><span class="caps">BOOKKEEPER</span>-417</a>] -         Hierarchical zk underreplication manager should clean up its hierarchy when done to allow for fast acquisition of underreplicated entries
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-418'><span class="caps">BOOKKEEPER</span>-418</a>] -         Store hostname of locker in replication lock
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-426'><span class="caps">BOOKKEEPER</span>-426</a>] -         Make auditor Vote znode store a protobuf containing the host that voted
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-428'><span class="caps">BOOKKEEPER</span>-428</a>] -         Expose command options in bookie scripts to disable/enable auto recovery temporarily
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-435'><span class="caps">BOOKKEEPER</span>-435</a>] -         Create SubscriptionChannelManager to manage all subscription channel
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-440'><span class="caps">BOOKKEEPER</span>-440</a>] -         Make Write/Delete SubscriptionData Restricted to Version
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-444'><span class="caps">BOOKKEEPER</span>-444</a>] -         Refactor pending read op to make speculative reads possible
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-452'><span class="caps">BOOKKEEPER</span>-452</a>] -         Rename ClientConfiguration multiplexing_enabled to subscription_connection_sharing_enabled
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-453'><span class="caps">BOOKKEEPER</span>-453</a>] -         Extract commonality from MultiplexSubscribeResponseHandler and SimpleSubscribeResponseHandler and put into an abstract class
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-459'><span class="caps">BOOKKEEPER</span>-459</a>] -         Rename metastore mock implementation to InMemory implementation
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-463'><span class="caps">BOOKKEEPER</span>-463</a>] -         Refactor garbage collection code for ease to plugin different GC algorithm.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-472'><span class="caps">BOOKKEEPER</span>-472</a>] -         Provide an option to start Autorecovery along with Bookie Servers
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-490'><span class="caps">BOOKKEEPER</span>-490</a>] -         add documentation for MetaStore interface
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-496'><span class="caps">BOOKKEEPER</span>-496</a>] -         Ensure that the auditor and replication worker will shutdown if they lose their ZK session
</li>
</ul>
            <br />
<h2>        Bug
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-55'><span class="caps">BOOKKEEPER</span>-55</a>] -         SubscribeReconnectRetryTask might retry subscription endlessly when another subscription is already successfully created previously
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-274'><span class="caps">BOOKKEEPER</span>-274</a>] -         Hedwig cpp client library should not link to cppunit which is just used for test.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-280'><span class="caps">BOOKKEEPER</span>-280</a>] -         LedgerHandle.addEntry() should return an entryId
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-291'><span class="caps">BOOKKEEPER</span>-291</a>] -         <span class="caps">BKMB</span>eanRegistry uses log4j directly
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-292'><span class="caps">BOOKKEEPER</span>-292</a>] -         Test backward compatibility automatically between versions.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-294'><span class="caps">BOOKKEEPER</span>-294</a>] -         Not able to start the bookkeeper before the ZK session timeout.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-296'><span class="caps">BOOKKEEPER</span>-296</a>] -         It&#39;s better provide stop script for bookie
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-298'><span class="caps">BOOKKEEPER</span>-298</a>] -         We run with preferIPv4Stack in the scripts but not in the tests
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-302'><span class="caps">BOOKKEEPER</span>-302</a>] -         No more messages delivered when hub server scans messages over two ledgers.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-303'><span class="caps">BOOKKEEPER</span>-303</a>] -         LedgerMetadata should serialized using protobufs
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-306'><span class="caps">BOOKKEEPER</span>-306</a>] -         Change C++ client to use gtest for testing
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-307'><span class="caps">BOOKKEEPER</span>-307</a>] -         BookieShell introduces 4 findbugs warnings
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-322'><span class="caps">BOOKKEEPER</span>-322</a>] -         New protobufs generates findbugs errors
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-324'><span class="caps">BOOKKEEPER</span>-324</a>] -         Flakeyness in LedgerCreateDeleteTest
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-326'><span class="caps">BOOKKEEPER</span>-326</a>] -         DeadLock during ledger recovery 
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-327'><span class="caps">BOOKKEEPER</span>-327</a>] -         System.currentTimeMillis usage in BookKeeper
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-329'><span class="caps">BOOKKEEPER</span>-329</a>] -         provide stop scripts for hub server
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-330'><span class="caps">BOOKKEEPER</span>-330</a>] -         System.currentTimeMillis usage in Hedwig
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-336'><span class="caps">BOOKKEEPER</span>-336</a>] -         bookie readEntries is taking more time if the ensemble has failed bookie(s)
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-337'><span class="caps">BOOKKEEPER</span>-337</a>] -         Add entry fails with MetadataVersionException when last ensemble has morethan one bookie failures
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-338'><span class="caps">BOOKKEEPER</span>-338</a>] -         Create Version.NEW and Version.ANY static instances of Version so that were not passing around nulls
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-343'><span class="caps">BOOKKEEPER</span>-343</a>] -         Failed to register hedwig <span class="caps">JMX </span>beans in test cases
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-349'><span class="caps">BOOKKEEPER</span>-349</a>] -         Entry logger should close all the chennels which are there in Map, instead of closing only current channel.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-351'><span class="caps">BOOKKEEPER</span>-351</a>] -         asyncAddEntry should not throw an exception
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-352'><span class="caps">BOOKKEEPER</span>-352</a>] -         Should not use static ServerStats/BKStats instance in TestServerStats/TestBKStats
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-354'><span class="caps">BOOKKEEPER</span>-354</a>] -         [BOOKKEEPER-296] [Documentation] Modify the bookkeeper start script and document the bookkeeper stop command in bookkeeperConfig.xml
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-355'><span class="caps">BOOKKEEPER</span>-355</a>] -         Ledger recovery will mark ledger as closed with -1, in case of slow bookie is added to ensemble during  recovery add
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-365'><span class="caps">BOOKKEEPER</span>-365</a>] -         Ledger will never recover if one of the quorum bookie is down forever and others dont have entry
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-371'><span class="caps">BOOKKEEPER</span>-371</a>] -         <span class="caps">NPE </span>in hedwig hub client causes hedwig hub to shut down.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-372'><span class="caps">BOOKKEEPER</span>-372</a>] -         Check service name in bookie start/stop script.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-381'><span class="caps">BOOKKEEPER</span>-381</a>] -         ReadLastConfirmedOp&#39;s Logger class name is wrong
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-382'><span class="caps">BOOKKEEPER</span>-382</a>] -         space missed at concatenations in GarbageCollectorThread logging
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-383'><span class="caps">BOOKKEEPER</span>-383</a>] -         <span class="caps">NPE </span>in BookieJournalTest
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-387'><span class="caps">BOOKKEEPER</span>-387</a>] -         BookKeeper Upgrade is not working.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-392'><span class="caps">BOOKKEEPER</span>-392</a>] -         Racey ConcurrentMap usage in java hedwig-client
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-395'><span class="caps">BOOKKEEPER</span>-395</a>] -         <span class="caps">HDFS </span>dep transitively depends on a busted pom
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-396'><span class="caps">BOOKKEEPER</span>-396</a>] -         Compilation issue in TestClient.java of BenchMark ( showing this in eclipse)
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-397'><span class="caps">BOOKKEEPER</span>-397</a>] -         Make the hedwig client in RegionManager configurable.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-403'><span class="caps">BOOKKEEPER</span>-403</a>] -         ReReadMetadataCb is not executed in the thread responsible for that ledger
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-404'><span class="caps">BOOKKEEPER</span>-404</a>] -         Deprecate non-SubscriptionOptions Subscriber Apis
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-408'><span class="caps">BOOKKEEPER</span>-408</a>] -         BookieReadWriteTest will enter the endless loop and will not leave out
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-413'><span class="caps">BOOKKEEPER</span>-413</a>] -         Hedwig C++ client: Rename <span class="caps">RUN</span>_AS_SSL_MODE to <span class="caps">SSL</span>_ENABLED
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-415'><span class="caps">BOOKKEEPER</span>-415</a>] -         Rename DeliveryThrottle to MessageWindowSize
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-424'><span class="caps">BOOKKEEPER</span>-424</a>] -         Bookie start is failing intermittently when zkclient connection delays
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-425'><span class="caps">BOOKKEEPER</span>-425</a>] -         Cleanup Bookie id generation
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-427'><span class="caps">BOOKKEEPER</span>-427</a>] -         TestConcurrentTopicAcquisition hangs every so often
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-434'><span class="caps">BOOKKEEPER</span>-434</a>] -         [Hedwig <span class="caps">CPP</span> Client] Delay resolving default host until necessary.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-436'><span class="caps">BOOKKEEPER</span>-436</a>] -         Journal#rollLog may leak file handler
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-439'><span class="caps">BOOKKEEPER</span>-439</a>] -         No more messages delivered after deleted consumed ledgers.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-441'><span class="caps">BOOKKEEPER</span>-441</a>] -         InMemorySubscriptionManager should back up top2sub2seq before change it
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-442'><span class="caps">BOOKKEEPER</span>-442</a>] -         Failed to deliver messages due to inconsistency between SubscriptionState and LedgerRanges.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-447'><span class="caps">BOOKKEEPER</span>-447</a>] -         Bookie can fail to recover if index pages flushed before ledger flush acknowledged
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-454'><span class="caps">BOOKKEEPER</span>-454</a>] -         hedwig c++ tester script assumes sh is bash
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-457'><span class="caps">BOOKKEEPER</span>-457</a>] -         Create a format command for Hedwig to cleanup its metadata.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-458'><span class="caps">BOOKKEEPER</span>-458</a>] -         Annoy <span class="caps">BKR</span>eadException error when changing ledger.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-461'><span class="caps">BOOKKEEPER</span>-461</a>] -         Delivery throughput degrades when there are lots of publishers w/ high traffic.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-465'><span class="caps">BOOKKEEPER</span>-465</a>] -         CreateNewLog may overwrite lastLogId with smaller value 
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-466'><span class="caps">BOOKKEEPER</span>-466</a>] -         ZooKeeper test utility sets the port number as the tickTime
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-467'><span class="caps">BOOKKEEPER</span>-467</a>] -         Allocate ports for testing dynamically
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-468'><span class="caps">BOOKKEEPER</span>-468</a>] -         Remove &lt;echo&gt; from protobuf generation in hedwig
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-469'><span class="caps">BOOKKEEPER</span>-469</a>] -         Remove System.out.println from TestLedgerManager
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-470'><span class="caps">BOOKKEEPER</span>-470</a>] -         Possible infinite loop in simple.SubscribeReconnectCallback
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-471'><span class="caps">BOOKKEEPER</span>-471</a>] -         Add scripts for preCommit testing
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-474'><span class="caps">BOOKKEEPER</span>-474</a>] -         BookieReadWriteTest#testShutdown doesn&#39;t make sense
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-475'><span class="caps">BOOKKEEPER</span>-475</a>] -         BookieRecoveryTest#testSyncBookieRecoveryToRandomBookiesCheckForDupes() iterates too much
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-477'><span class="caps">BOOKKEEPER</span>-477</a>] -         In ReadOnlyBookieTest, we should wait for the bookie to die before asserting on it
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-479'><span class="caps">BOOKKEEPER</span>-479</a>] -         Fix apache-rat issues in tree
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-480'><span class="caps">BOOKKEEPER</span>-480</a>] -         Fix javac warnings
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-481'><span class="caps">BOOKKEEPER</span>-481</a>] -         Fix javadoc warnings
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-482'><span class="caps">BOOKKEEPER</span>-482</a>] -         Precommit is reporting findbugs errors in trunk
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-483'><span class="caps">BOOKKEEPER</span>-483</a>] -         precommit tests only check toplevel rat file, not the one for submodules.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-484'><span class="caps">BOOKKEEPER</span>-484</a>] -         Misc fixes for test scripts
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-485'><span class="caps">BOOKKEEPER</span>-485</a>] -         TestFencing hung
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-493'><span class="caps">BOOKKEEPER</span>-493</a>] -         moveLedgerIndexFile might have chance pickup same directory
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-497'><span class="caps">BOOKKEEPER</span>-497</a>] -         GcLedgersTest has a potential race
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-498'><span class="caps">BOOKKEEPER</span>-498</a>] -         BookieRecoveryTest.tearDown <span class="caps">NPE</span>
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-500'><span class="caps">BOOKKEEPER</span>-500</a>] -         Fencing doesn&#39;t work when restarting bookies.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-503'><span class="caps">BOOKKEEPER</span>-503</a>] -         The test case of TestThrottlingDelivery#testServerSideThrottle failed sometimes
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-504'><span class="caps">BOOKKEEPER</span>-504</a>] -         Fix findbugs warning in PendingReadOp
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-507'><span class="caps">BOOKKEEPER</span>-507</a>] -         Race condition happens if closeSubscription and subscribe happened at the same time (in multiplexed client).
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-509'><span class="caps">BOOKKEEPER</span>-509</a>] -         TestBookKeeperPersistenceManager failed on latest trunk
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-511'><span class="caps">BOOKKEEPER</span>-511</a>] -         BookieShell is very noisy
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-512'><span class="caps">BOOKKEEPER</span>-512</a>] -         BookieZkExpireTest fails periodically
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-513'><span class="caps">BOOKKEEPER</span>-513</a>] -         TestMessageFilter fails periodically
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-514'><span class="caps">BOOKKEEPER</span>-514</a>] -         TestDeadLock hanging sometimes
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-520'><span class="caps">BOOKKEEPER</span>-520</a>] -         BookieFailureTest hangs on precommit build
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-522'><span class="caps">BOOKKEEPER</span>-522</a>] -         TestHedwigHub is failing silently on Jenkins
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-524'><span class="caps">BOOKKEEPER</span>-524</a>] -         Bookie journal filesystem gets full after SyncThread is terminated with exception
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-530'><span class="caps">BOOKKEEPER</span>-530</a>] -         data might be lost during compaction.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-531'><span class="caps">BOOKKEEPER</span>-531</a>] -         Cache thread should wait until old entries are collected
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-532'><span class="caps">BOOKKEEPER</span>-532</a>] -         AbstractSubscriptionManager#AcquireOp read subscriptions every time even it already owned the topic
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-533'><span class="caps">BOOKKEEPER</span>-533</a>] -         TestSubAfterCloseSub fails strangely in tests
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-534'><span class="caps">BOOKKEEPER</span>-534</a>] -         Flakeyness in AuditorBookieTest
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-538'><span class="caps">BOOKKEEPER</span>-538</a>] -         Race condition in BookKeeper#close
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-539'><span class="caps">BOOKKEEPER</span>-539</a>] -         ClientNotSubscribedException &amp; doesn&#39;t receive enough messages in TestThrottlingDelivery#testServerSideThrottle
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-543'><span class="caps">BOOKKEEPER</span>-543</a>] -         Read zk host list in a wrong way in hedwig server
</li>
</ul>
            <br />
<h2>        Improvement
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-32'><span class="caps">BOOKKEEPER</span>-32</a>] -         Clean up <span class="caps">LOG.</span>debug statements
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-143'><span class="caps">BOOKKEEPER</span>-143</a>] -         Add <span class="caps">SSL </span>support for hedwig cpp client
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-191'><span class="caps">BOOKKEEPER</span>-191</a>] -         Hub server should change ledger to write, so consumed messages have chance to be garbage collected.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-289'><span class="caps">BOOKKEEPER</span>-289</a>] -         mvn clean doesn&#39;t remove test output files
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-318'><span class="caps">BOOKKEEPER</span>-318</a>] -         Spelling mistake in MultiCallback log message.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-320'><span class="caps">BOOKKEEPER</span>-320</a>] -         Let hedwig cpp client could publish messages using Message object instead of string.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-328'><span class="caps">BOOKKEEPER</span>-328</a>] -         Bookie DeathWatcher is missing thread name
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-339'><span class="caps">BOOKKEEPER</span>-339</a>] -         Let hedwig cpp client support returning message seq id for publish requests.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-340'><span class="caps">BOOKKEEPER</span>-340</a>] -         Test backward compatibility for hedwig between different versions.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-388'><span class="caps">BOOKKEEPER</span>-388</a>] -         Document bookie format command
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-394'><span class="caps">BOOKKEEPER</span>-394</a>] -         CompositeException message is not useful
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-422'><span class="caps">BOOKKEEPER</span>-422</a>] -         Simplify AbstractSubscriptionManager
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-430'><span class="caps">BOOKKEEPER</span>-430</a>] -         Remove manual bookie registration from overview
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-431'><span class="caps">BOOKKEEPER</span>-431</a>] -         Duplicate definition of <span class="caps">COOKIES</span>_NODE
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-476'><span class="caps">BOOKKEEPER</span>-476</a>] -         Log to file during tests
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-491'><span class="caps">BOOKKEEPER</span>-491</a>] -         Hedwig doc for configuration
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-495'><span class="caps">BOOKKEEPER</span>-495</a>] -         Revise BK config doc
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-523'><span class="caps">BOOKKEEPER</span>-523</a>] -         Every test should have a timeout
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-529'><span class="caps">BOOKKEEPER</span>-529</a>] -         stopServingSubscriber in delivery manager should remove stub callbacks in ReadAheadCache
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-540'><span class="caps">BOOKKEEPER</span>-540</a>] -         #stopServingSubscriber when channel is disconnected.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-541'><span class="caps">BOOKKEEPER</span>-541</a>] -         Add guava to notice file
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-542'><span class="caps">BOOKKEEPER</span>-542</a>] -         Remove trailing spaces in IndexCorruptionTest
</li>
</ul>
    <br />
<h2>        New Feature
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-183'><span class="caps">BOOKKEEPER</span>-183</a>] -         Provide tools to read/check data files in bookie server
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-208'><span class="caps">BOOKKEEPER</span>-208</a>] -         Separate write quorum from ack quorum
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-252'><span class="caps">BOOKKEEPER</span>-252</a>] -         Hedwig: provide a subscription mode to kill other subscription channel when hedwig client is used as a proxy-style server.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-300'><span class="caps">BOOKKEEPER</span>-300</a>] -         Create Bookie format command
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-399'><span class="caps">BOOKKEEPER</span>-399</a>] -         Let hub server configure write quorum and ack quorum.
</li>
</ul>
                        <br />
<h2>        Task
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-487'><span class="caps">BOOKKEEPER</span>-487</a>] -         Add existed hub server settings to configuration template file
</li>
</ul>
            <br />
<h2>        Test
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-460'><span class="caps">BOOKKEEPER</span>-460</a>] -         LedgerDeleteTest checks wrong place for log file
</li>
</ul>

    </div>
    <footer class="footer">
      <div class="container">
        <p class="text-muted">Copyright &copy; 2014 The Apache Software Foundation, Licensed under the Apache License, Version 2.0.<br/>
	Apache BookKeeper, BookKeeper, Apache, Apache ZooKeeper, ZooKeeper, the Apache feather logo, and the Apache BookKeeper project logo are trademarks of The Apache Software Foundation.</p>
      </div>
    </footer>

    <script src="//code.jquery.com/jquery.js"></script>
    <script src="/archives/js/bootstrap.min.js"></script>
  </body>
</html>
