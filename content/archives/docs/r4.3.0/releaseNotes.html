<!DOCTYPE html>
<!--

    Licensed to the Apache Software Foundation (ASF) under one or more
    contributor license agreements.  See the NOTICE file distributed with
    this work for additional information regarding copyright ownership.
    The ASF licenses this file to You under the Apache License, Version 2.0
    (the "License"); you may not use this file except in compliance with
    the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE- 2.0

    Unless required by applicable law or agreed to in writing, software
    distributed under the License is distributed on an "AS IS" BASIS,
    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
    See the License for the specific language governing permissions and
    limitations under the License.
-->
<html>
  <head>
    <title>Apache BookKeeper - BookKeeper Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="/archives/css/bootstrap.min.css" rel="stylesheet">
    <link href="/archives/css/bootstrap-responsive.min.css" rel="stylesheet">
    <link href="/archives/css/styles.css" rel="stylesheet">
  </head>
  <body>
    <header class="navbar navbar-inverse navbar-static-top" role="banner">
      <div class="container">
    	<div class="navbar-header hidden-xs hidden-sm">
    	  <a class="navbar-brand navbar-logo" href="/archives/"><img class="img-responsive" src="/archives/img/bookkeeper_blk40.png" alt="Bookkeeper Logo" /></a>
    	</div>
    	<div class="navbar-header">
    	  <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
    	  </button>
    	  <a class="navbar-brand" href="/archives/">Apache BookKeeper</a>
    	</div>
    	<nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
    	  <ul class="nav navbar-nav">
    	    <li><a href="/archives/releases.html">Download</a></li>

    	    <li class="dropdown">
    	      <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Documentation<span class="caret"></span></a>
    	      <ul class="dropdown-menu" role="menu">
		<li><a href="/archives/docs/master">Latest (master)</a></li>
		<li><ul>
		    <li><a href="/archives/docs/master/apidocs">Java API docs</a></li>
		    <li><a href="/archives/docs/master/bookkeeperTutorial.html">Tutorial</a></li>
		    <li><a href="/archives/docs/master/bookkeeperConfig.html">Admin guide</a></li>
		</ul><li>
                <li><a href="/archives/docs/r4.4.0">Release 4.4.0</a></li>
                <li class="divider"></li>
                <li>Older releases</li>
                <li><a href="/archives/docs/r4.3.2">Release 4.3.2</a></li>
                <li><a href="/archives/docs/r4.3.1">Release 4.3.1</a></li>
                <li><a href="/archives/docs/r4.3.0">Release 4.3.0</a></li>
                <li><a href="/archives/docs/r4.2.4">Release 4.2.4</a></li>
                <li><a href="/archives/docs/r4.2.3">Release 4.2.3</a></li>
                <li><a href="/archives/docs/r4.2.2">Release 4.2.2</a></li>
                <li><a href="/archives/docs/r4.2.1">Release 4.2.1</a></li>
                <li><a href="/archives/docs/r4.2.0">Release 4.2.0</a></li>
                <li><a href="/archives/docs/r4.1.0">Release 4.1.0</a></li>
                <li><a href="/archives/docs/r4.0.0">Release 4.0.0</a></li>
              </ul>
            </li>
            
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Get Involved<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="/archives/lists.html">Mailing Lists</a></li>
                <li><a href="/archives/irc.html">IRC</a></li>
                <li><a href="/archives/svn.html">Version Control</a></li>
                <li><a href="https://issues.apache.org/jira/browse/BOOKKEEPER">Issue Tracker</a></li>
              </ul>
            </li>

            <li><a href="https://cwiki.apache.org/confluence/display/BOOKKEEPER/Index">Wiki</a></li>
            <!--<li><a href="#">Hedwig</a></li>//-->
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">Project Info<span class="caret"></span></a>
              <ul class="dropdown-menu" role="menu">
                <li><a href="/archives/credits.html">Who are we?</a></li>
                <li><a href="/archives/bylaws.html">Bylaws</a></li>
                <li><a href="http://www.apache.org/licenses/">License</a></li>
                <li class="divider"></li>
                <li><a href="/archives/privacy.html">Privacy Policy</a></li>
                <li><a href="http://www.apache.org/foundation/sponsorship.html">Sponsership</a></li>
                <li><a href="http://www.apache.org/foundation/thanks.html">Thanks</a></li>
              </ul>
            </li>
          </ul>
          <script>
            (function() {
            var cx = '017580107654524087317:iqnsyimpydg';
            var gcse = document.createElement('script');
            gcse.type = 'text/javascript';
            gcse.async = true;
            gcse.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') +
            '//www.google.com/cse/cse.js?cx=' + cx;
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(gcse, s);
            })();
          </script>
          
          <div class="navbar-form navbar-right visible-lg" id="googlebox">
            <gcse:searchbox-only></gcse:searchbox-only>
          </div>
        </nav>
      </div>
    </header>
    <div class="container">

 <h1>Release Notes - Bookkeeper - Version 4.3.0</h1>

<p>
<span class="caps">NOTE</span>: After support protobuf in [<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-582'><span class="caps">BOOKKEEPER</span>-582</a>] in 4.3.0, a 4.3.0 client will not work with a 4.2.3 server, while a 4.3.0 server still keeps backward compatability with 4.2.3 clients. Please upgrade servers in prior to clients.<br />
</p>

<h2>        Sub-task
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-312'><span class="caps">BOOKKEEPER</span>-312</a>] -         Implementation of <span class="caps">JMS </span>provider
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-506'><span class="caps">BOOKKEEPER</span>-506</a>] -         Provide better topic release algorithm
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-555'><span class="caps">BOOKKEEPER</span>-555</a>] -         Make BookieServer use Netty rather than a custom IO server
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-565'><span class="caps">BOOKKEEPER</span>-565</a>] -         Make an option to separate storing entry log files from index files.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-574'><span class="caps">BOOKKEEPER</span>-574</a>] -         Extend the bookkeeper shell to get a list of available bookies
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-576'><span class="caps">BOOKKEEPER</span>-576</a>] -         Bookie client should use netty Decoder/Encoder
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-582'><span class="caps">BOOKKEEPER</span>-582</a>] -         Make bookie and client use protobuf for requests (non-wire part)
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-595'><span class="caps">BOOKKEEPER</span>-595</a>] -         Crash of inprocess autorecovery daemon should not take down the bookie
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-608'><span class="caps">BOOKKEEPER</span>-608</a>] -         Make SyncThread a reusable component
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-615'><span class="caps">BOOKKEEPER</span>-615</a>] -         Twitter stats implementation of stats interface
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-629'><span class="caps">BOOKKEEPER</span>-629</a>] -         Support hostname based ledger metadata to help users to change IP with existing installation
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-643'><span class="caps">BOOKKEEPER</span>-643</a>] -         Improve concurrency of entry logger
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-644'><span class="caps">BOOKKEEPER</span>-644</a>] -         Provide a bookie address wrapper
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-657'><span class="caps">BOOKKEEPER</span>-657</a>] -         Journal Improvement
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-658'><span class="caps">BOOKKEEPER</span>-658</a>] -         ledger cache refactor
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-659'><span class="caps">BOOKKEEPER</span>-659</a>] -         <span class="caps">LRU </span>page management in ledger cache.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-696'><span class="caps">BOOKKEEPER</span>-696</a>] -         stats collection on bookkeeper client
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-697'><span class="caps">BOOKKEEPER</span>-697</a>] -         stats collection on bookkeeper server
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-703'><span class="caps">BOOKKEEPER</span>-703</a>] -         Document all the settings added in <span class="caps">BOOKKEEPER</span>-656
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-704'><span class="caps">BOOKKEEPER</span>-704</a>] -         reconnectable zookeeper client wrapper
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-715'><span class="caps">BOOKKEEPER</span>-715</a>] -         bookie: delay dropping journal cached pages
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-716'><span class="caps">BOOKKEEPER</span>-716</a>] -         padding writes for bookie journal
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-717'><span class="caps">BOOKKEEPER</span>-717</a>] -         journal should look forward to group time-out entries
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-773'><span class="caps">BOOKKEEPER</span>-773</a>] -         Provide admin tool to rename bookie identifier in Cookies
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-782'><span class="caps">BOOKKEEPER</span>-782</a>] -         Use builder pattern for Cookie
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-787'><span class="caps">BOOKKEEPER</span>-787</a>] -         Modify Cookie by removing &#39;znodeVersion&#39; state/field
</li>
</ul>
            <br />
<h2>        Bug
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-313'><span class="caps">BOOKKEEPER</span>-313</a>] -         Bookkeeper shutdown call from Bookie thread is not shutting down server
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-363'><span class="caps">BOOKKEEPER</span>-363</a>] -         Re-distributing topics among newly added hubs.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-446'><span class="caps">BOOKKEEPER</span>-446</a>] -         BookKeeper.createLedger(..) should not mask the error with <span class="caps">ZKE</span>xception
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-544'><span class="caps">BOOKKEEPER</span>-544</a>] -         Modify hedwig server tests to allow client testcases to start/stop them as part of their tests
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-548'><span class="caps">BOOKKEEPER</span>-548</a>] -         Document about periodic ledger checker configuration
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-549'><span class="caps">BOOKKEEPER</span>-549</a>] -         Documentation missed for readOnlyMode support
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-554'><span class="caps">BOOKKEEPER</span>-554</a>] -         fd leaking when move ledger index file
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-556'><span class="caps">BOOKKEEPER</span>-556</a>] -         BookieServerMXBean#getServerState makes no sense
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-557'><span class="caps">BOOKKEEPER</span>-557</a>] -         Compiler error showing up badly with jdk 7
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-559'><span class="caps">BOOKKEEPER</span>-559</a>] -         Fix occasional failure in AuditorBookieTest
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-561'><span class="caps">BOOKKEEPER</span>-561</a>] -         Findbugs reports errors with openjdk
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-567'><span class="caps">BOOKKEEPER</span>-567</a>] -         ReadOnlyBookieTest hangs on shutdown
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-568'><span class="caps">BOOKKEEPER</span>-568</a>] -         <span class="caps">NPE </span>during GC with HierarchicalLedgerManager
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-569'><span class="caps">BOOKKEEPER</span>-569</a>] -         Critical performance bug in InterleavedLedgerStorage
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-577'><span class="caps">BOOKKEEPER</span>-577</a>] -         BookieFailureTest uses sync/wait()/notify() incorrectly
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-579'><span class="caps">BOOKKEEPER</span>-579</a>] -         TestSubAfterCloseSub was put in a wrong package
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-580'><span class="caps">BOOKKEEPER</span>-580</a>] -         improve close logic
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-581'><span class="caps">BOOKKEEPER</span>-581</a>] -         Ledger recovery doesn&#39;t work correctly when recovery adds force changing ensembles.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-583'><span class="caps">BOOKKEEPER</span>-583</a>] -         Read from a ReadOnlyBookie fails if index fileinfo is not in ledger cache
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-584'><span class="caps">BOOKKEEPER</span>-584</a>] -         Data loss when ledger metadata is overwritten
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-585'><span class="caps">BOOKKEEPER</span>-585</a>] -         Auditor logs noisily when a ledger has been deleted
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-586'><span class="caps">BOOKKEEPER</span>-586</a>] -         Remove recursive call in delivery manager
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-596'><span class="caps">BOOKKEEPER</span>-596</a>] -         Ledgers are gc&#39;ed by mistake in <span class="caps">MSL</span>edgerManagerFactory.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-597'><span class="caps">BOOKKEEPER</span>-597</a>] -         Add flag to output test logs to stdout
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-598'><span class="caps">BOOKKEEPER</span>-598</a>] -         Fails to compile - <span class="caps">RESUBSCRIBE</span>_EXCEPTION conflict
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-599'><span class="caps">BOOKKEEPER</span>-599</a>] -         <span class="caps">NPE </span>in PerChannelBookieClient
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-600'><span class="caps">BOOKKEEPER</span>-600</a>] -         shouldClaim flag isn&#39;t cleared for hedwig multiplex java client
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-601'><span class="caps">BOOKKEEPER</span>-601</a>] -         readahead cache size isn&#39;t updated correctly 
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-602'><span class="caps">BOOKKEEPER</span>-602</a>] -         we should have request timeouts rather than channel timeout in PerChannelBookieClient
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-603'><span class="caps">BOOKKEEPER</span>-603</a>] -         Support Boost 1.53 for Hedwig Cpp Client
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-604'><span class="caps">BOOKKEEPER</span>-604</a>] -         Ledger storage can log an exception if GC happens concurrently.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-607'><span class="caps">BOOKKEEPER</span>-607</a>] -         Filtered Messages Require <span class="caps">ACK </span>from Client Causes User Being Throttled Incorrectly Forever
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-610'><span class="caps">BOOKKEEPER</span>-610</a>] -         Make SyncThread use an executor
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-617'><span class="caps">BOOKKEEPER</span>-617</a>] -         <span class="caps">BOOKKEEPER</span>-544 breaks hedwig-server/bin/hedwig script
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-619'><span class="caps">BOOKKEEPER</span>-619</a>] -         Bookie should not create local cookie files if zookeeper is uninitialized
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-620'><span class="caps">BOOKKEEPER</span>-620</a>] -         PerChannelBookieClient race during channel disconnect
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-623'><span class="caps">BOOKKEEPER</span>-623</a>] -         LedgerChecker should avoid segments of closed ledger with higher start entryId than closed entry.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-624'><span class="caps">BOOKKEEPER</span>-624</a>] -         Reduce logs generated by ReplicationWorker
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-626'><span class="caps">BOOKKEEPER</span>-626</a>] -         <span class="caps">BOOKIE</span>_EXTRA_OPTS are added twice
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-632'><span class="caps">BOOKKEEPER</span>-632</a>] -         AutoRecovery should consider read only bookies
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-633'><span class="caps">BOOKKEEPER</span>-633</a>] -         ConcurrentModificationException in RackawareEnsemblePlacementPolicy when a bookie is removed from available list
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-635'><span class="caps">BOOKKEEPER</span>-635</a>] -         jenkins build should highlight which lines of the patch cause raw analysis errors
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-636'><span class="caps">BOOKKEEPER</span>-636</a>] -         Latest txn logs might be deleted in a race condition which is not recoverable if BK goes down before next txn log created.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-638'><span class="caps">BOOKKEEPER</span>-638</a>] -         Two bookies could start at the same time to access bookie data.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-641'><span class="caps">BOOKKEEPER</span>-641</a>] -         DeathWatcher thread is unnecessarily running even after bookie shutdown
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-642'><span class="caps">BOOKKEEPER</span>-642</a>] -         Bookie returns incorrect exitcode, ExitCode.ZK_REG_FAIL is getting overridden
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-646'><span class="caps">BOOKKEEPER</span>-646</a>] -         BookieShell readjournal command is throwing BufferUnderflowException
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-649'><span class="caps">BOOKKEEPER</span>-649</a>] -         Race condition in sync <span class="caps">ZKU</span>tils.createFullPathOptimistic()
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-652'><span class="caps">BOOKKEEPER</span>-652</a>] -         Logger class name is wrong in LedgerCacheImpl.java
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-654'><span class="caps">BOOKKEEPER</span>-654</a>] -         Bookkeeper client operations are allowed even after its closure, bk#close()
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-663'><span class="caps">BOOKKEEPER</span>-663</a>] -         HierarchicalLedgerManager iterator is missing some ranges and the last ledger in the range
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-664'><span class="caps">BOOKKEEPER</span>-664</a>] -         Compaction increases latency on journal writes
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-667'><span class="caps">BOOKKEEPER</span>-667</a>] -         Client write will fail with BadMetadataVersion in case of multiple Bookie failures with AutoRecovery enabled
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-668'><span class="caps">BOOKKEEPER</span>-668</a>] -         Race between PerChannelBookieClient#channelDisconnected() and disconnect() calls can make clients hang while add/reading entries in case of multiple bookie failures
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-673'><span class="caps">BOOKKEEPER</span>-673</a>] -         Ledger length can be inaccurate in failure case
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-676'><span class="caps">BOOKKEEPER</span>-676</a>] -         Make add asynchrounous in ledger recovery
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-678'><span class="caps">BOOKKEEPER</span>-678</a>] -         BookieServer shutdown hangs indefinitely at NioServerSocketChannelFactory.releaseExternalResources
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-683'><span class="caps">BOOKKEEPER</span>-683</a>] -         TestSubAfterCloseSub fails on 4.2
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-686'><span class="caps">BOOKKEEPER</span>-686</a>] -         Bookie startup will fail if one of the configured ledgerDir is full and the same is used for replaying the journal
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-688'><span class="caps">BOOKKEEPER</span>-688</a>] -         <span class="caps">NPE </span>exception in PerChannelBookieClient
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-698'><span class="caps">BOOKKEEPER</span>-698</a>] -         Bookie client closure is not considering timeoutExecutor
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-700'><span class="caps">BOOKKEEPER</span>-700</a>] -         GarbageCollectorThread exsiting with ArrayIndexOutOfBoundsException
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-708'><span class="caps">BOOKKEEPER</span>-708</a>] -         Shade protobuf library to avoid incompatible versions
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-709'><span class="caps">BOOKKEEPER</span>-709</a>] -         SlowBookieTest#testSlowBookie fails intermittently
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-710'><span class="caps">BOOKKEEPER</span>-710</a>] -         OpenLedgerNoRecovery should watch ensemble change.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-711'><span class="caps">BOOKKEEPER</span>-711</a>] -         bookkeeper-daemon.sh will not remove the pid file on successful stop
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-712'><span class="caps">BOOKKEEPER</span>-712</a>] -         bookkeeper script should use &#39;java&#39; from <span class="caps">JAVA</span>_HOME
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-714'><span class="caps">BOOKKEEPER</span>-714</a>] -         Logging channel exceptions in PerChannelBookieClient
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-718'><span class="caps">BOOKKEEPER</span>-718</a>] -         AuditorLedgerCheckerTest is flakey
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-719'><span class="caps">BOOKKEEPER</span>-719</a>] -         Inconsistent synchronization of org.apache.bookkeeper.stats.CodahaleMetricsProvider.metrics
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-720'><span class="caps">BOOKKEEPER</span>-720</a>] -         CheckpointSource.MIN#compareTo does exactly the opposite of what it should
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-724'><span class="caps">BOOKKEEPER</span>-724</a>] -         Shade introduces <span class="caps">RAT </span>error
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-725'><span class="caps">BOOKKEEPER</span>-725</a>] -         AutoRecoveryMain should exit with error code if deathwatcher finds dead thread
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-726'><span class="caps">BOOKKEEPER</span>-726</a>] -         PerChannelBookieClient should print address that it failed to connect to when it fails to correct
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-727'><span class="caps">BOOKKEEPER</span>-727</a>] -         Names of bookie write/read threads are backwards
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-728'><span class="caps">BOOKKEEPER</span>-728</a>] -         Bookkeeper#Builder is not public, so can&#39;t be used outside of client package
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-729'><span class="caps">BOOKKEEPER</span>-729</a>] -         Bookie shouldn&#39;t exit with 0, if exiting from deathwatcher and thread death was caused by <span class="caps">OOM</span>
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-730'><span class="caps">BOOKKEEPER</span>-730</a>] -         Shade pom file missing apache license header
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-731'><span class="caps">BOOKKEEPER</span>-731</a>] -         Missing <span class="caps">BOOKIE</span>_PID_DIR and <span class="caps">BOOKIE</span>_STOP_TIMEOUT in env variables list
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-739'><span class="caps">BOOKKEEPER</span>-739</a>] -         Test timeouts mostly ignored
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-740'><span class="caps">BOOKKEEPER</span>-740</a>] -         AutoRecoveryMainTest#testAutoRecoverySessionLoss is failing
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-742'><span class="caps">BOOKKEEPER</span>-742</a>] -         Fix for empty ledgers losing quorum.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-743'><span class="caps">BOOKKEEPER</span>-743</a>] -         Periodic ledger check running too often as doc doesn&#39;t match implementation.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-744'><span class="caps">BOOKKEEPER</span>-744</a>] -         Run the auditor bookie check periodically
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-745'><span class="caps">BOOKKEEPER</span>-745</a>] -         Fix for false reports of ledger unreplication during rolling restarts.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-746'><span class="caps">BOOKKEEPER</span>-746</a>] -         5 new shell commands. List ledgers, list metadata, list underreplicated, show auditor and simpletest
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-750'><span class="caps">BOOKKEEPER</span>-750</a>] -         Flake in BookieAutoRecoveryTest#testEmptyLedgerLosesQuorumEventually
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-751'><span class="caps">BOOKKEEPER</span>-751</a>] -         Ensure all the bookkeeper callbacks not run under ledger handle lock
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-755'><span class="caps">BOOKKEEPER</span>-755</a>] -         Incorrect number of seconds specified in a day
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-763'><span class="caps">BOOKKEEPER</span>-763</a>] -         findbugs fails to run on jenkins
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-765'><span class="caps">BOOKKEEPER</span>-765</a>] -         bookkeeper script should fall back to java in path if <span class="caps">JAVA</span>_HOME is not set
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-766'><span class="caps">BOOKKEEPER</span>-766</a>] -         Update notice.txt files to include 2014
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-767'><span class="caps">BOOKKEEPER</span>-767</a>] -         Allow loopback in tests
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-768'><span class="caps">BOOKKEEPER</span>-768</a>] -         fix typo &#39;seconds&#39; to milliseconds in benchmark output
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-774'><span class="caps">BOOKKEEPER</span>-774</a>] -         Flaky test org.apache.bookkeeper.test.ReadOnlyBookieTest.testBookieShouldTurnWritableFromReadOnly
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-777'><span class="caps">BOOKKEEPER</span>-777</a>] -         Flake in LedgerCloseTest
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-778'><span class="caps">BOOKKEEPER</span>-778</a>] -         Flake in TestTryReadLastConfirmed
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-779'><span class="caps">BOOKKEEPER</span>-779</a>] -         jmx reporter for codahale metrics provider
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-780'><span class="caps">BOOKKEEPER</span>-780</a>] -         Findbug issue in trunk
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-783'><span class="caps">BOOKKEEPER</span>-783</a>] -         Avoid running out of fds in MutlipleThreadReadTest
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-784'><span class="caps">BOOKKEEPER</span>-784</a>] -         BookKeeperCloseTest#testLedgerCheck is failing intermittently
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-785'><span class="caps">BOOKKEEPER</span>-785</a>] -         Fix javadoc warnings in trunk
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-786'><span class="caps">BOOKKEEPER</span>-786</a>] -         Fix Findbugs Error In Codahale Stats Provider
</li>
</ul>
                <br />
<h2>        Improvement
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-429'><span class="caps">BOOKKEEPER</span>-429</a>] -         Provide separate read and write threads in the bookkeeper server
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-432'><span class="caps">BOOKKEEPER</span>-432</a>] -         Improve performance of entry log range read per ledger entries 
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-526'><span class="caps">BOOKKEEPER</span>-526</a>] -         multiple threads for delivery manager
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-563'><span class="caps">BOOKKEEPER</span>-563</a>] -         Avoid Journal polluting page cache
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-564'><span class="caps">BOOKKEEPER</span>-564</a>] -         Better checkpoint mechanism
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-573'><span class="caps">BOOKKEEPER</span>-573</a>] -         Script to start a bookkeeper cluster
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-592'><span class="caps">BOOKKEEPER</span>-592</a>] -         allow application to recommend ledger data locality
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-605'><span class="caps">BOOKKEEPER</span>-605</a>] -         Use static Logger objects everywhere for bookkeeper
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-611'><span class="caps">BOOKKEEPER</span>-611</a>] -         Speed up bookkeeper tests
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-614'><span class="caps">BOOKKEEPER</span>-614</a>] -         Generic stats interface, which multiple providers can be plugged into
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-618'><span class="caps">BOOKKEEPER</span>-618</a>] -         Better resolution of bookie address
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-627'><span class="caps">BOOKKEEPER</span>-627</a>] -         LedgerDirsMonitor is missing thread name
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-630'><span class="caps">BOOKKEEPER</span>-630</a>] -         Add tag to o.a.b.net.* to indict which release of hadoop they came from, move <span class="caps">DNS </span>to o.a.b.net.* and indent
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-637'><span class="caps">BOOKKEEPER</span>-637</a>] -         NoSuchEntry exception when reading an entry from a bookie should not print <span class="caps">ERROR </span>level message
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-640'><span class="caps">BOOKKEEPER</span>-640</a>] -         Log improvement - add shutdown/exit log message for the bookie services
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-645'><span class="caps">BOOKKEEPER</span>-645</a>] -         Bookkeeper shell command to get a list of readonly bookies 
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-661'><span class="caps">BOOKKEEPER</span>-661</a>] -         Turn readonly back to writable if spaces are reclaimed.
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-662'><span class="caps">BOOKKEEPER</span>-662</a>] -         Major GC should kick in immediately if remaining space reaches a warning threshold
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-666'><span class="caps">BOOKKEEPER</span>-666</a>] -         Naming threads of ExecutorService
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-699'><span class="caps">BOOKKEEPER</span>-699</a>] -         Codahale metrics implementation of stats <span class="caps">API</span>
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-701'><span class="caps">BOOKKEEPER</span>-701</a>] -         Improve exception handling of Bookkeeper threads
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-732'><span class="caps">BOOKKEEPER</span>-732</a>] -         Add env variable <span class="caps">ENTRY</span>_FORMATTER_CLASS to the bkenv.sh
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-747'><span class="caps">BOOKKEEPER</span>-747</a>] -         Implement register/unregister LedgerMetadataListener in <span class="caps">MSL</span>edgerManagerFactory
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-756'><span class="caps">BOOKKEEPER</span>-756</a>] -         Use HashedwheelTimer for request timeouts for <span class="caps">PCBC</span>
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-758'><span class="caps">BOOKKEEPER</span>-758</a>] -         Add TryReadLastAddConfirmed <span class="caps">API</span>
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-781'><span class="caps">BOOKKEEPER</span>-781</a>] -         Fix <span class="caps">OOM </span>on Hedwig Tests
</li>
</ul>
    <br />
<h2>        New Feature
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-257'><span class="caps">BOOKKEEPER</span>-257</a>] -         Ability to list all ledgers
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-562'><span class="caps">BOOKKEEPER</span>-562</a>] -         Ability to tell if a ledger is closed or not
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-736'><span class="caps">BOOKKEEPER</span>-736</a>] -         Stats for AutoRecovery
</li>
</ul>
                                <br />
<h2>        Task
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-789'><span class="caps">BOOKKEEPER</span>-789</a>] -         Update <span class="caps">README </span>to reflect bookkeeper modules
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-790'><span class="caps">BOOKKEEPER</span>-790</a>] -         Add <span class="caps">JNA </span>license in <span class="caps">NOTICE </span>files
</li>
</ul>
        <br />
<h2>        Test
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-653'><span class="caps">BOOKKEEPER</span>-653</a>] -         Timeout option is missing in few testcases
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-775'><span class="caps">BOOKKEEPER</span>-775</a>] -         Improve MultipleThreadReadTest to reduce flakiness
</li>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-776'><span class="caps">BOOKKEEPER</span>-776</a>] -         Flaky test BookieRecoveryTest
</li>
</ul>
        <br />
<h2>        Wish
</h2>
<ul>
<li>[<a href='https://issues.apache.org/jira/browse/BOOKKEEPER-675'><span class="caps">BOOKKEEPER</span>-675</a>] -         Log noise fixup before cutting 4.2.2
</li>
</ul>

    </div>
    <footer class="footer">
      <div class="container">
        <p class="text-muted">Copyright &copy; 2014 The Apache Software Foundation, Licensed under the Apache License, Version 2.0.<br/>
	Apache BookKeeper, BookKeeper, Apache, Apache ZooKeeper, ZooKeeper, the Apache feather logo, and the Apache BookKeeper project logo are trademarks of The Apache Software Foundation.</p>
      </div>
    </footer>

    <script src="//code.jquery.com/jquery.js"></script>
    <script src="/archives/js/bootstrap.min.js"></script>
  </body>
</html>
